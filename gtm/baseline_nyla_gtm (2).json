{
    "exportFormatVersion": 2,
    "exportTime": "2023-07-27 02:16:03",
    "containerVersion": {
        "path": "accounts/6139183063/containers/137025910/versions/0",
        "accountId": "6139183063",
        "containerId": "137025910",
        "containerVersionId": "0",
        "container": {
            "path": "accounts/6139183063/containers/137025910",
            "accountId": "6139183063",
            "containerId": "137025910",
            "name": "Nyla Baseline Container",
            "publicId": "GTM-KB8DGF6T",
            "usageContext": [
                "WEB"
            ],
            "fingerprint": "1690423891406",
            "tagManagerUrl": "https://tagmanager.google.com/#/container/accounts/6139183063/containers/137025910/workspaces?apiLink=container",
            "features": {
                "supportUserPermissions": true,
                "supportEnvironments": true,
                "supportWorkspaces": true,
                "supportGtagConfigs": false,
                "supportBuiltInVariables": true,
                "supportClients": false,
                "supportFolders": true,
                "supportTags": true,
                "supportTemplates": true,
                "supportTriggers": true,
                "supportVariables": true,
                "supportVersions": true,
                "supportZones": true,
                "supportTransformations": false
            },
            "tagIds": [
                "GTM-KB8DGF6T"
            ]
        },
        "tag": [
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "16",
                "name": "Pinterest - Event - Purchase",
                "type": "pntr",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setCustomParams",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{Constant - Pinterest ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "product_id",
                        "value": "{{JS - Ecommerce - Purchase - Product IDs}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "order_quantity",
                        "value": "{{JS - Total Item Quantity}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "checkout"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "currency",
                        "value": "{{DLV - Ecommerce - Currency Code}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Revenue}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "order_id",
                        "value": "{{DLV - Ecommerce - Purchase - Action Field - ID}}"
                    }
                ],
                "fingerprint": "1690423940201",
                "firingTriggerId": [
                    "11"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "26",
                "name": "Reddit - Base - Pageview",
                "type": "cvt_137025910_22",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "enableFirstPartyCookies",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "id",
                        "value": "{{Constant - Reddit ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "PageVisit"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "advancedMatching",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940204",
                "firingTriggerId": [
                    "24",
                    "25"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "41",
                "name": "GA4 - Base - Pageview",
                "type": "gaawc",
                "parameter": [
                    {
                        "type": "LIST",
                        "key": "fieldsToSet",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "visitor_type"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Visitor Type}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "visitor_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Visitor ID}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "total_order_count"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Orders Count}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "total_spent"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Total Spent}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "page_type"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Page Type}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "sendPageView",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableSendToServerContainer",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "measurementId",
                        "value": "{{Lookup Table - GA4 ID}}"
                    }
                ],
                "fingerprint": "1690424063373",
                "firingTriggerId": [
                    "38",
                    "28"
                ],
                "parentFolderId": "30",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "43",
                "name": "GA4 - Event - Remove from Cart",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "sendEcommerceData",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "remove_from_cart"
                    },
                    {
                        "type": "LIST",
                        "key": "eventParameters",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Currency Code}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Remove - Items}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TAG_REFERENCE",
                        "key": "measurementId",
                        "value": "GA4 - Base - Pageview"
                    }
                ],
                "fingerprint": "1690423940207",
                "firingTriggerId": [
                    "42"
                ],
                "parentFolderId": "30",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "50",
                "name": "Google Ads Remarketing - View Item",
                "type": "sp",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventItems",
                        "value": "{{JS - Remarketing - View Item - Items}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableConversionLinker",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Ecommerce - Detail - Products - Price}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableDynamicRemarketing",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "dataLayerVariable",
                        "value": "{{DLV - Ecommerce - Detail - Products}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "view_item"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionCookiePrefix",
                        "value": "_gcl"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "{{Constant - Google Ads ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customParamsFormat",
                        "value": "DATA_LAYER"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "rdp",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940247",
                "firingTriggerId": [
                    "17"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "74",
                "name": "Tag - GTM Event - Non Interaction Hits",
                "type": "ua",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "nonInteraction",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "overrideGaSettings",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Event Value}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventCategory",
                        "value": "{{DLV - Event Category}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "trackType",
                        "value": "TRACK_EVENT"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "gaSettings",
                        "value": "{{Admin - GA - Settings}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "{{DLV - Event Action}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventLabel",
                        "value": "{{DLV - Event Label}}"
                    }
                ],
                "fingerprint": "1690423940252",
                "firingTriggerId": [
                    "62"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "75",
                "name": "Script - Nyla - Page Type",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script>\ndl = location.pathname\npageTypes = [\n    'home',\n    'category',\n    'product',\n    'searchresults',\n    'cart',\n    'checkout',\n    'purchase',\n    'account',\n    'other'\n]\nregexSearch = [\n    '/$',\n    '/collections.*',\n    '/products.*',\n    '/search.*',\n    '/cart.*',\n    '/checkouts.*',\n    '/thank_you.*',\n    '/account.*',\n    '.*'\n]\nfor (i = 0; i < pageTypes.length; i++) {\n    pageType = pageTypes[i]\n    test = dl.match(regexSearch[i])\n    try {\n        test = test[0] == null\n        if (test === false) {\n            break;\n        }\n    } catch (err) {\n        {\n            continue;\n        }\n    };\n}\npageType = pageType.trim()\nif (pageType === 'home') {\n    dataLayer.push({\n        'event': 'HomeView',\n        'pageType': pageType\n    });\n} else {\n    dataLayer.push({\n        'event': 'OtherView',\n        'pageType': pageType\n    });\n}\n</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940319",
                "firingTriggerId": [
                    "51"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "87",
                "name": "GA4 - Event - Purchase",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "sendEcommerceData",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "purchase"
                    },
                    {
                        "type": "LIST",
                        "key": "eventParameters",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "affiliation"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Affiliation}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "transaction_id"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Purchase - Action Field - ID}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "tax"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Tax}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "shipping"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Shipping}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "value"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Revenue}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "coupon"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Coupon}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Currency Code}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Purchase - Items}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TAG_REFERENCE",
                        "key": "measurementId",
                        "value": "GA4 - Base - Pageview"
                    }
                ],
                "fingerprint": "1690423940254",
                "firingTriggerId": [
                    "83"
                ],
                "parentFolderId": "30",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "95",
                "name": "Script - Nyla - Page View Handler",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script>\nfunction historyChange() {\n  var init = {{DLV - Init}};\n  if (init == \"true\") {\n    dataLayer.push({\n      event: 'init',\n      init: false\n    });\n  }\n};\n\nhistoryChange();\n</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940320",
                "firingTriggerId": [
                    "51"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "102",
                "name": "Tag - Conversion Linker",
                "type": "gclidw",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "enableCrossDomain",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableUrlPassthrough",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "acceptIncoming",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "linkerDomains",
                        "value": "{{Constant - Auto Linked Domains}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "formDecoration",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "urlPosition",
                        "value": "query"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableCookieOverrides",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940257",
                "firingTriggerId": [
                    "2147479573",
                    "38"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "106",
                "name": "Pixel - Bing - Event - Page View",
                "type": "baut",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "c_navTimingApi",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{Constant - Bing UET ID}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_storeConvTrackCookies",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_disableAutoPageView",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "c_removeQueryFromUrls",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "PAGE_LOAD"
                    }
                ],
                "fingerprint": "1690423940258",
                "firingTriggerId": [
                    "24",
                    "25"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "110",
                "name": "Pixel - Bing - Event - Add to Cart",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_totalvalue",
                        "value": "{{DLV - Ecommerce - Add - Products - Price}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_pagetype",
                        "value": "product"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_category",
                        "value": "{{DLV - Ecommerce - Add - Products - Category}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "ecommerce"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_prodid",
                        "value": "{{DLV - Ecommerce - Add - Products - Product ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "add_to_cart"
                    }
                ],
                "fingerprint": "1690423940259",
                "firingTriggerId": [
                    "108"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "115",
                "name": "Facebook - Event - Initiate Checkout",
                "type": "cvt_137025910_101",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "disablePushState",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "pixelId",
                        "value": "{{Constant - Facebook Pixel ID}},{{Constant - Facebook Pixel ID 2}}"
                    },
                    {
                        "type": "LIST",
                        "key": "objectPropertyList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Initiate Checkout - Meta - content_ids}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "standardEventName",
                        "value": "InitiateCheckout"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "disableAutoConfig",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enhancedEcommerce",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "dpoLDU",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "advancedMatchingList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Email}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fn"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer First Name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ln"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Last Name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "standard"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "objectPropertiesFromVariable",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "consent",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "advancedMatching",
                        "value": "true"
                    }
                ],
                "fingerprint": "1690423940260",
                "firingTriggerId": [
                    "114"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "116",
                "name": "Google Ads Remarketing - Base - Pageview",
                "type": "sp",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "enableConversionLinker",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableDynamicRemarketing",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionCookiePrefix",
                        "value": "_gcl"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "{{Constant - Google Ads ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customParamsFormat",
                        "value": "NONE"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "rdp",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940260",
                "firingTriggerId": [
                    "24",
                    "25"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "118",
                "name": "Google Ads - Add to Cart",
                "type": "awct",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "enableNewCustomerReporting",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableConversionLinker",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableProductReporting",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableEnhancedConversion",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionCookiePrefix",
                        "value": "_gcl"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableShippingData",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "{{Constant - Google Ads ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "currencyCode",
                        "value": "USD"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionLabel",
                        "value": "Q1SmCJqM9KMYELPJ0eID"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "rdp",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940261",
                "firingTriggerId": [
                    "117"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "120",
                "name": "Pixel - Klaviyo - Page View",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script type=\"text/javascript\" async=\"\" src=\"https://static.klaviyo.com/onsite/js/klaviyo.js?company_id={{Constant - Klaviyo Company ID}}\"></script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940320",
                "firingTriggerId": [
                    "25",
                    "24"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "129",
                "name": "Pixel - Klaviyo - View Item",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script type=\"text/javascript\">\n   var _learnq = _learnq || [];\n   var item = {\n     \"ProductName\": \"{{DLV - Ecommerce - Detail - Products - Name}}\",\n     \"ProductID\": \"{{DLV - Ecommerce - Detail - Products - Product ID}}\",\n     \"Categories\": [\"{{DLV - Ecommerce - Detail - Products - Category}}\"],\n     \"URL\": \"{{Page URL}}\",\n     \"Brand\": \"{{DLV - Ecommerce - Detail - Products - Brand}}\",\n     \"Price\": {{DLV - Ecommerce - Add - Products - Price}},\n   };\n   _learnq.push([\"track\", \"Viewed Product\", item]);\n</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940321",
                "firingTriggerId": [
                    "17"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "130",
                "name": "Tag - GTM Event - Interaction Hits",
                "type": "ua",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "nonInteraction",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "overrideGaSettings",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Event Value}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventCategory",
                        "value": "{{DLV - Event Category}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "trackType",
                        "value": "TRACK_EVENT"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "gaSettings",
                        "value": "{{Admin - GA - Settings}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "{{DLV - Event Action}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventLabel",
                        "value": "{{DLV - Event Label}}"
                    }
                ],
                "fingerprint": "1690423940263",
                "firingTriggerId": [
                    "21"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "131",
                "name": "Pixel - Bing - Event - Product Impression",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_pagetype",
                        "value": "category"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "ecommerce"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_prodid",
                        "value": "{{JS - View Item List - Items}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "view_item_list"
                    }
                ],
                "fingerprint": "1690423940263",
                "firingTriggerId": [
                    "79"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "139",
                "name": "GA4 - Event - View Item",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "view_item"
                    },
                    {
                        "type": "LIST",
                        "key": "eventParameters",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Currency Code}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Detail - Items}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TAG_REFERENCE",
                        "key": "measurementId",
                        "value": "GA4 - Base - Pageview"
                    }
                ],
                "fingerprint": "1690423940265",
                "firingTriggerId": [
                    "138"
                ],
                "parentFolderId": "30",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "140",
                "name": "Script - Nyla - GDPR Preference",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script> \nfunction getGDPRParam() {\n    try {\n      return { value: window.localStorage.getItem(\"gdpr\"), error: null };\n    } catch(e) {\n      return { value: null, error: e };\n    }\n  }\n\nfunction GDPRPreference() {\n    var host = document.location.hostname\n    var regex = '^checkout.*$'\n    if (host.match(regex) == null ) {\n        console.log('delegating to cookiebot')\n        return;\n    }\n    try {\n        var gdpr = getGDPRParam().value\n        if (gdpr == 'allow') {\n            dataLayer.push({\n                event: 'allow.cookies',\n                allowCookies: true\n            })\n        }\n        else if (gdpr == 'null') {\n            dataLayer.push({\n                event: 'allow.cookies',\n                allowCookies: true\n            })\n        }\n        else if (gdpr == 'deny') {\n            dataLayer.push({\n                event: 'deny.cookies',\n                allowCookies: false\n            })\n        }\n    } catch (err) { // fail \"open\"\n        dataLayer.push({\n            event: 'allow.cookies',\n            allowCookies: true\n        })\n    }\n};\n  \nGDPRPreference()\n</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940321",
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "144",
                "name": "Facebook - Event - Add to Cart",
                "type": "cvt_137025910_101",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "disablePushState",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "pixelId",
                        "value": "{{Constant - Facebook Pixel ID}},{{Constant - Facebook Pixel ID 2}}"
                    },
                    {
                        "type": "LIST",
                        "key": "objectPropertyList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Add - Items - Meta}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Add - Meta - content_ids}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "disableAutoConfig",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eecEventName",
                        "value": "eec"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enhancedEcommerce",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "dpoLDU",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "advancedMatchingList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Email}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fn"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer First Name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ln"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Last Name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "objectPropertiesFromVariable",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "consent",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "advancedMatching",
                        "value": "true"
                    }
                ],
                "fingerprint": "1690423940265",
                "firingTriggerId": [
                    "108"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "146",
                "name": "Pixel - Bing - Event - Product Click",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_totalvalue",
                        "value": "{{DLV - Ecommerce - Product Click - Products - Price}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_pagetype",
                        "value": "category"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_category",
                        "value": "{{DLV - Ecommerce - Product Click - Products - Category}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "ecommerce"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_prodid",
                        "value": "{{DLV - Ecommerce - Product Click - Products - Product ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "select_content"
                    }
                ],
                "fingerprint": "1690423940266",
                "firingTriggerId": [
                    "103"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "149",
                "name": "Twitter - Base - Pageview",
                "type": "cvt_137025910_133",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "pixel_id",
                        "value": "{{Constant - Twitter ID}}"
                    }
                ],
                "fingerprint": "1690423940308",
                "firingTriggerId": [
                    "24",
                    "25"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "152",
                "name": "Pixel - Klaviyo - Add to Cart",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script type=\"text/javascript\">\n   _learnq.push([\"track\", \"Added to Cart\", {\n     \"$value\": {{DLV - Ecommerce - Add - Products - Price}},\n     \"AddedItemProductName\": \"{{DLV - Ecommerce - Add - Products - Name}}\",\n     \"AddedItemProductID\": \"{{DLV - Ecommerce - Add - Products - Product ID}}\",\n     \"AddedItemURL\": \"{{Page URL}}\",\n     \"AddedItemPrice\": {{DLV - Ecommerce - Add - Products - Price}},\n     \"AddedItemQuantity\": {{DLV - Ecommerce - Add - Products - Quantity}},\n   }]);\n </script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940322",
                "firingTriggerId": [
                    "108"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "154",
                "name": "Tag - EE Events - Non Interaction Hits",
                "type": "ua",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "nonInteraction",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "overrideGaSettings",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useEcommerceDataLayer",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Event Value}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventCategory",
                        "value": "{{DLV - Event Category}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useGA4SchemaForEcommerce",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "trackType",
                        "value": "TRACK_EVENT"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "gaSettings",
                        "value": "{{Admin - GA - Settings}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "{{DLV - Event Action}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventLabel",
                        "value": "{{DLV - Event Label}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableEcommerce",
                        "value": "true"
                    }
                ],
                "fingerprint": "1690423940308",
                "firingTriggerId": [
                    "153"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "155",
                "name": "Pixel - Bing - Event - Purchase",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "p_currency",
                        "value": "USD"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Revenue}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventCategory",
                        "value": "purchase"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customEventAction",
                        "value": "purchase"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "CUSTOM"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventLabel",
                        "value": "purchase"
                    }
                ],
                "fingerprint": "1690423940309",
                "firingTriggerId": [
                    "11"
                ],
                "setupTag": [
                    {
                        "tagName": "Pixel - Bing - Event - Page View"
                    }
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "156",
                "name": "GSC Validation",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<meta name=\"google-site-verification\" content=\"ExTemvyjWbeRAIGYEgKU16Kv5SjrB1a3AJiwaoD5ILA\" />"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940322",
                "firingTriggerId": [
                    "2147479553"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "163",
                "name": "Template - Simo Ahava - Persist Campaign Data",
                "type": "cvt_137025910_162",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "originalLocationOption",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "storeInCookieOption",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "dataLayerName",
                        "value": "dataLayer"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "dataLayerKey",
                        "value": "originalLocation"
                    }
                ],
                "fingerprint": "1690423940311",
                "firingTriggerId": [
                    "2147479573"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "164",
                "name": "Traffic Jam Marketing - Base",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script src=\"https://www.dwin1.com/52311.js\" type=\"text/javascript\" defer=\"defer\"></script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940322",
                "firingTriggerId": [
                    "24"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "165",
                "name": "Google Ads Remarketing - Add to Cart",
                "type": "sp",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventItems",
                        "value": "{{JS - Remarketing - Add to Cart - Items}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableConversionLinker",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Ecommerce - Add - Products - Price}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableDynamicRemarketing",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "dataLayerVariable",
                        "value": "{{DLV - Ecommerce - Add - Products}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "add_to_cart"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionCookiePrefix",
                        "value": "_gcl"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "{{Constant - Google Ads ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customParamsFormat",
                        "value": "DATA_LAYER"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "rdp",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940311",
                "firingTriggerId": [
                    "108"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "167",
                "name": "Pinterest - Event - Add to Cart",
                "type": "pntr",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setCustomParams",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{Constant - Pinterest ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "product_id",
                        "value": "{{DLV - Ecommerce - Add - Products - Product ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "addtocart"
                    }
                ],
                "fingerprint": "1690423940311",
                "firingTriggerId": [
                    "108"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "168",
                "name": "Pixel - Facebook - Page View",
                "type": "cvt_137025910_101",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "disablePushState",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "pixelId",
                        "value": "{{Constant - Facebook Pixel ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "standardEventName",
                        "value": "PageView"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "disableAutoConfig",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enhancedEcommerce",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "dpoLDU",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "advancedMatchingList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Email}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fn"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer First Name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ln"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Last Name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "standard"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "objectPropertiesFromVariable",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "consent",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "advancedMatching",
                        "value": "true"
                    }
                ],
                "fingerprint": "1690423940311",
                "firingTriggerId": [
                    "53",
                    "147"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "169",
                "name": "GA4 - Event - Select Item",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "select_item"
                    },
                    {
                        "type": "LIST",
                        "key": "eventParameters",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Currency Code}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Click - Items}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TAG_REFERENCE",
                        "key": "measurementId",
                        "value": "GA4 - Base - Pageview"
                    }
                ],
                "fingerprint": "1690423940312",
                "firingTriggerId": [
                    "141"
                ],
                "parentFolderId": "30",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "171",
                "name": "Google Ads Remarketing - View Item LIst",
                "type": "sp",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventItems",
                        "value": "{{JS - Remarketing - View Item List - Items}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableConversionLinker",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableDynamicRemarketing",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "dataLayerVariable",
                        "value": "{{DLV - Ecommerce - Impressions - Products}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "view_item_list"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionCookiePrefix",
                        "value": "_gcl"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "{{Constant - Google Ads ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customParamsFormat",
                        "value": "DATA_LAYER"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "rdp",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940312",
                "firingTriggerId": [
                    "79"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "176",
                "name": "Google Ads - Purchase",
                "type": "awct",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "productReportingDataSource",
                        "value": "DATA_LAYER"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "orderId",
                        "value": "{{DLV - Ecommerce - Purchase - Action Field - ID}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableProductReporting",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "cssProvidedEnhancedConversionValue",
                        "value": "{{User-Provided Data}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableShippingData",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableNewCustomerReporting",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableConversionLinker",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "shippingFee",
                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Shipping}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionValue",
                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Revenue}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableEnhancedConversion",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "deliveryPostalCode",
                        "value": "{{DLV - Postal Code}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "deliveryCountry",
                        "value": "{{DLV - Customer Country Code}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionCookiePrefix",
                        "value": "_gcl"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "{{Constant - Google Ads ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "currencyCode",
                        "value": "USD"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionLabel",
                        "value": "vVdlCMrxw6MYELPJ0eID"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "rdp",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940313",
                "firingTriggerId": [
                    "11"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "178",
                "name": "Google Ads Remarketing - Purchase",
                "type": "sp",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventItems",
                        "value": "{{JS - Remarketing - Purchase - Items}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableConversionLinker",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Ecommerce - Purchase - Action Field - Revenue}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableDynamicRemarketing",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "dataLayerVariable",
                        "value": "{{DLV - Ecommerce - Purchase - Products}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "purchase"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionCookiePrefix",
                        "value": "_gcl"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "conversionId",
                        "value": "{{Constant - Google Ads ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "customParamsFormat",
                        "value": "DATA_LAYER"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "rdp",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940313",
                "firingTriggerId": [
                    "11"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "179",
                "name": "Pinterest - Base - Pageview",
                "type": "pntr",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "tagId",
                        "value": "{{Constant - Pinterest ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventName"
                    }
                ],
                "fingerprint": "1690423940313",
                "firingTriggerId": [
                    "24",
                    "25"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "184",
                "name": "Share a Sale",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<img src=\"https://www.shareasale.com/sale.cfm?tracking={{DLV - Ecommerce - Purchase - Action Field - ID}}&amount={{DLV - Ecommerce - Purchase - Action Field - Revenue}}&merchantID=141502&transtype=sale\" width=\"1\" height=\"1\">\n<script src=\"https://www.dwin1.com/52311.js\" type=\"text/javascript\" defer=\"defer\"></script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940323",
                "firingTriggerId": [
                    "183"
                ],
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "186",
                "name": "Pixel - Bing - Event - Product Detail View",
                "type": "baut",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_totalvalue",
                        "value": "{{DLV - Ecommerce - Detail - Products - Price}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_pagetype",
                        "value": "product"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_category",
                        "value": "{{DLV - Ecommerce - Detail - Products - Category}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "uetqName",
                        "value": "uetq"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventType",
                        "value": "ecommerce"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "p_ecomm_prodid",
                        "value": "{{DLV - Ecommerce - Detail - Products - Product ID}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "view_item"
                    }
                ],
                "fingerprint": "1690423940314",
                "firingTriggerId": [
                    "17"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "paused": true,
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "188",
                "name": "GA4 - Event - Add to Cart",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "add_to_cart"
                    },
                    {
                        "type": "LIST",
                        "key": "eventParameters",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Currency Code}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Add - Items}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TAG_REFERENCE",
                        "key": "measurementId",
                        "value": "GA4 - Base - Pageview"
                    }
                ],
                "fingerprint": "1690423940314",
                "firingTriggerId": [
                    "117"
                ],
                "parentFolderId": "30",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "192",
                "name": "Script - Nyla - Allow Cookies",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script>\n  dataLayer.push({\n    allowCookies: true\n  })\n</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940323",
                "firingTriggerId": [
                    "24"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "193",
                "name": "Script - Nyla - Set GDPR Parameter",
                "type": "html",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "html",
                        "value": "<script>\n  \nfunction setGDPRParam() {\n    try {\n      var urlParams = new URLSearchParams(window.location.search);\n      var gdpr = urlParams.get(\"gdpr\") || \"allow\";\n      if (gdpr == 'null') {var gdpr = \"allow\"};\n      window.localStorage.setItem(\"gdpr\", gdpr);\n      return { error: null };\n    } catch(e) {\n      return { error: 'localstorage disabled' }\n    }\n  };\n\nsetGDPRParam();\n  \n</script>"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "supportDocumentWrite",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940324",
                "firingTriggerId": [
                    "56"
                ],
                "teardownTag": [
                    {
                        "tagName": "Script - Nyla - GDPR Preference",
                        "stopTeardownOnFailure": true
                    }
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "194",
                "name": "GA4 - Event - View Item List",
                "type": "gaawe",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "eventName",
                        "value": "view_item_list"
                    },
                    {
                        "type": "LIST",
                        "key": "eventParameters",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "currency"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Ecommerce - Currency Code}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "items"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Impressions - Items}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "TAG_REFERENCE",
                        "key": "measurementId",
                        "value": "GA4 - Base - Pageview"
                    }
                ],
                "fingerprint": "1690423940315",
                "firingTriggerId": [
                    "191"
                ],
                "parentFolderId": "30",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "195",
                "name": "Facebook - Event - Product Detail View",
                "type": "cvt_137025910_101",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "disablePushState",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "pixelId",
                        "value": "{{Constant - Facebook Pixel ID}},{{Constant - Facebook Pixel ID 2}}"
                    },
                    {
                        "type": "LIST",
                        "key": "objectPropertyList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "contents"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - Detail View - Items - Meta}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "content_ids"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Ecommerce - View Content - Meta - content_ids}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "disableAutoConfig",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eecEventName",
                        "value": "eec"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enhancedEcommerce",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "dpoLDU",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "advancedMatchingList",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "em"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Email}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "fn"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer First Name}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "name",
                                        "value": "ln"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Customer Last Name}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "objectPropertiesFromVariable",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "consent",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "advancedMatching",
                        "value": "true"
                    }
                ],
                "fingerprint": "1690423940315",
                "firingTriggerId": [
                    "17"
                ],
                "parentFolderId": "45",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "196",
                "name": "Tag - EE Events - Interaction Hits",
                "type": "ua",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "nonInteraction",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "overrideGaSettings",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useEcommerceDataLayer",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventValue",
                        "value": "{{DLV - Event Value}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventCategory",
                        "value": "{{DLV - Event Category}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "trackType",
                        "value": "TRACK_EVENT"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "gaSettings",
                        "value": "{{Admin - GA - Settings}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventAction",
                        "value": "{{DLV - Event Action}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "eventLabel",
                        "value": "{{DLV - Event Label}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableEcommerce",
                        "value": "true"
                    }
                ],
                "fingerprint": "1690423940316",
                "firingTriggerId": [
                    "99"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "tagId": "197",
                "name": "Tag - Google Analytics - Pageview",
                "type": "ua",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "overrideGaSettings",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "trackType",
                        "value": "TRACK_PAGEVIEW"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "gaSettings",
                        "value": "{{Admin - GA - Settings}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableEcommerce",
                        "value": "false"
                    }
                ],
                "fingerprint": "1690423940316",
                "firingTriggerId": [
                    "38",
                    "104"
                ],
                "parentFolderId": "3",
                "tagFiringOption": "ONCE_PER_EVENT",
                "monitoringMetadata": {
                    "type": "MAP"
                },
                "consentSettings": {
                    "consentStatus": "NOT_SET"
                }
            }
        ],
        "trigger": [
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "11",
                "name": "Event - Purchase - Allow Cookies",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Category}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "enhanced ecommerce"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "transaction"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940201",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "17",
                "name": "Event - Product Detail View - Allow Cookies",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product detail view"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940202",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "21",
                "name": "Event - GTM Event - Interaction Hits",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product click|add to cart|product impressions|product detail view|cookiebot|transaction|^checkout$"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940202",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "24",
                "name": "Event - Allow Cookies",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "allow.cookies"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Constant - CookieBot T/F}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940204",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "25",
                "name": "Initialization - No CookieBot",
                "type": "INIT",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Constant - CookieBot T/F}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "false"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940204",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "28",
                "name": "Initialization - No Internal Traffic - No Checkout",
                "type": "INIT",
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page Hostname}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "checkout"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940204",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "38",
                "name": "Event - Page View",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "page_view"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page Hostname}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "checkout"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Init}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "false"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - Is Default GTM Virtual Pageview}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "false"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940206",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "42",
                "name": "Event - Remove from Cart",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "remove from cart"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940207",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "51",
                "name": "Event - Page View - Ignore Init",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "page_view"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - Is Default GTM Virtual Pageview}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "false"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940247",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "53",
                "name": "Event - Allow Cookies - No Checkout",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "allow.cookies"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Constant - CookieBot T/F}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page Hostname}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "checkout"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940248",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "56",
                "name": "Page View - GDPR Parameter",
                "type": "PAGEVIEW",
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gdpr="
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "ignore_case",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940249",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "62",
                "name": "Event - GTM Event - Non Interaction Hits",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "cookiebot"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940250",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "79",
                "name": "Event - Product Impressions - Allow Cookies",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Category}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "enhanced ecommerce"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product impressions"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940253",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "83",
                "name": "Event - Purchase - No Checkout Subdomain",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Category}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "enhanced ecommerce"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "transaction"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page Hostname}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "checkout"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940253",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "99",
                "name": "Event - EE Event - Interaction Hits",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "add to cart|product click"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940256",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "103",
                "name": "Event - Product Click - Allow Cookies",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product click"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940258",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "104",
                "name": "Initialization - No Internal Traffic - Nyla Site Only",
                "type": "INIT",
                "filter": [
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page Path}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "checkout"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940258",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "108",
                "name": "Event - Add to Cart - Allow Cookies",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "add to cart"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940259",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "114",
                "name": "Event - Initiate Checkout - Allow Cookies",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Category}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "enhanced ecommerce"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "initiate checkout"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940260",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "117",
                "name": "Event - Add to Cart",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "add to cart"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940261",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "138",
                "name": "Event - Product Detail View",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product detail view"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940265",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "141",
                "name": "Event - Product Click",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product click"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940265",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "147",
                "name": "Initialization - No CookieBot - No Checkout",
                "type": "INIT",
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Constant - CookieBot T/F}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "false"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page Hostname}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "checkout"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940307",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "153",
                "name": "Event - EE Event - Non Interaction Hits - Excl Transaction",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product impressions|product detail view|^checkout$"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "transaction"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940308",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "158",
                "name": "Event - GTM Event - Ecommerce Events - Allow Cookies - Excl Transaction",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Category}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "enhanced ecommerce"
                            }
                        ]
                    },
                    {
                        "type": "MATCH_REGEX",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "add to cart|product detail view"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "ignore_case",
                                "value": "true"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{JS - allowCookies}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940309",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "183",
                "name": "Event - Purchase",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Category}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "enhanced ecommerce"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "transaction"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940314",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "triggerId": "191",
                "name": "Event - Product Impressions",
                "type": "CUSTOM_EVENT",
                "customEventFilter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{_event}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "gtmEvent"
                            }
                        ]
                    }
                ],
                "filter": [
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Category}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "enhanced ecommerce"
                            }
                        ]
                    },
                    {
                        "type": "EQUALS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{DLV - Event Action}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "product impressions"
                            }
                        ]
                    },
                    {
                        "type": "CONTAINS",
                        "parameter": [
                            {
                                "type": "TEMPLATE",
                                "key": "arg0",
                                "value": "{{Page URL}}"
                            },
                            {
                                "type": "TEMPLATE",
                                "key": "arg1",
                                "value": "nyla-int"
                            },
                            {
                                "type": "BOOLEAN",
                                "key": "negate",
                                "value": "true"
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940315",
                "parentFolderId": "3"
            }
        ],
        "variable": [
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "4",
                "name": "DLV - Ecommerce - Currency Code",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.currencyCode"
                    }
                ],
                "fingerprint": "1690423940199",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "5",
                "name": "DLV - Ecommerce - Purchase - Action Field - ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.actionField.id"
                    }
                ],
                "fingerprint": "1690423940200",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "6",
                "name": "DLV - Ecommerce - Purchase - Products",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products"
                    }
                ],
                "fingerprint": "1690423940200",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "7",
                "name": "JS - Ecommerce - Purchase - Product IDs",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Purchase - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n\tobj.product_id = gtmproductArray[i].id;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940316",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "8",
                "name": "DLV - Event Action",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "eventAction"
                    }
                ],
                "fingerprint": "1690423940200",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "9",
                "name": "JS - allowCookies",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n    var DLH = localStorage.getItem('gdpr');\n      if (DLH == 'allow') {\n        var DLH = true\n     } else if (DLH == 'null') {\n        var DLH = true\n     } else if (DLH == 'deny') {\n        var DLH = false\n    }\n    var DL = google_tag_manager[{{Container ID}}].dataLayer.get('allowCookies');\n    return DLH;\n}"
                    }
                ],
                "fingerprint": "1690423940317",
                "parentFolderId": "3",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "true"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "true"
                    }
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "10",
                "name": "DLV - Event Category",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "eventCategory"
                    }
                ],
                "fingerprint": "1690423940200",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "12",
                "name": "JS - Total Item Quantity",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function(){\n  var productList={{DLV - Ecommerce - Purchase - Products}};\n  var totalQuantity=0;\n  for(var i=0;i<productList.length;i++)\n  {\n    totalQuantity+=(productList[i].quantity);\n  }\n  return totalQuantity;\n}"
                    }
                ],
                "fingerprint": "1690423940317",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "13",
                "name": "DLV - Ecommerce - Purchase - Action Field - Revenue",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.actionField.revenue"
                    }
                ],
                "fingerprint": "1690423940201",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "15",
                "name": "Constant - Pinterest ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940201",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "18",
                "name": "DLV - Ecommerce - Remove - Products",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.remove.products"
                    }
                ],
                "fingerprint": "1690423940202",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "19",
                "name": "Constant - Reddit ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940202",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "20",
                "name": "Admin - Google Analytics - Custom Task",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n  // Modify customDimensionIndex to match the index number you want to send the data to\n  var customDimensionIndex = 4;\n  return function(model) {\n    model.set('dimension' + customDimensionIndex, model.get('clientId'));\n  }\n  // customTask Builder by Simo Ahava\n  //\n  // More information about customTask: https://www.simoahava.com/analytics/customtask-the-guide/\n  //\n  // Change the default values for the settings below.\n\n  // clientIdIndex: The Custom Dimension index to where you want to send the visitor's Client ID.\n  // https://bit.ly/2Ms0ZcC  \n  var clientIdIndex = 1;\n\n  // transactionDeduper: Configuration object for preventing duplicate transactions from being recorded.\n  // https://bit.ly/2AvSZ2Y\n  var transactionDeduper = {\n    keyName: '_transaction_ids',\n    cookieExpiresDays: 365\n  };\n\n  // DO NOT EDIT ANYTHING BELOW THIS LINE\n  var readFromStorage = function (key) {\n    if (!window.Storage) {\n      // From: https://stackoverflow.com/a/15724300/2367037\n      var value = '; ' + document.cookie;\n      var parts = value.split('; ' + key + '=');\n      if (parts.length === 2) {\n        return parts.pop().split(';').shift();\n      }\n    } else {\n      return window.localStorage.getItem(key);\n    }\n  };\n\n  var writeToStorage = function (key, value, expireDays) {\n    if (!window.Storage) {\n      var expiresDate = new Date();\n      expiresDate.setDate(expiresDate.getDate() + expireDays);\n      document.cookie = key + '=' + value + ';expires=' + expiresDate.toUTCString();\n    } else {\n      window.localStorage.setItem(key, value);\n    }\n  };\n\n  var globalSendHitTaskName   = '_ga_originalSendHitTask';\n\n  return function (customTaskModel) {\n\n    window[globalSendHitTaskName] = window[globalSendHitTaskName] || customTaskModel.get('sendHitTask');\n\n    // clientIdIndex\n    if (typeof clientIdIndex === '4') {\n      customTaskModel.set('dimension' + clientIdIndex, customTaskModel.get('clientId'));\n    }\n    // /clientIdIndex\n\n    customTaskModel.set('sendHitTask', function (sendHitTaskModel) {\n\n      var originalSendHitTaskModel = sendHitTaskModel,\n          originalSendHitTask      = window[globalSendHitTaskName],\n          canSendHit               = true;\n\n      try {\n\n        // transactionDeduper\n        if (typeof transactionDeduper === 'object' && transactionDeduper.hasOwnProperty('keyName') && transactionDeduper.hasOwnProperty('cookieExpiresDays') && typeof sendHitTaskModel.get('&ti') !== 'undefined') {\n          var _td_transactionId = sendHitTaskModel.get('&ti');\n          var _td_storedIds = JSON.parse(readFromStorage(transactionDeduper.keyName) || '[]');\n          if (_td_storedIds.indexOf(_td_transactionId) > -1 && ['transaction', 'item'].indexOf(sendHitTaskModel.get('hitType')) === -1) {\n            canSendHit = false;\n          } else if (_td_storedIds.indexOf(_td_transactionId) === -1) {\n            _td_storedIds.push(_td_transactionId);\n            writeToStorage(transactionDeduper.keyName, JSON.stringify(_td_storedIds), transactionDeduper.cookieExpiresDays);\n          }\n        }\n        // /transactionDeduper\n\n        if (canSendHit) {\n          originalSendHitTask(sendHitTaskModel);\n        }\n\n      } catch(err) {\n        originalSendHitTask(originalSendHitTaskModel);\n      }\n\n    });\n\n  };\n}"
                    }
                ],
                "fingerprint": "1690423940317",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "23",
                "name": "Constant - CookieBot T/F",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "true"
                    }
                ],
                "fingerprint": "1690423940203",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "27",
                "name": "JS - Ecommerce - Remove - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Remove - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n    obj.item_name = gtmproductArray[i].name;\n\tobj.item_id = gtmproductArray[i].id;\n    obj.item_brand = gtmproductArray[i].brand;\n    obj.item_category = gtmproductArray[i].category;\n    obj.item_variant = gtmproductArray[i].variant;\n\tobj.price = gtmproductArray[i].price;\n\tobj.quantity = gtmproductArray[i].quantity;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940317",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "29",
                "name": "DLV - Visitor ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "visitorId"
                    }
                ],
                "fingerprint": "1690423940204",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "31",
                "name": "DLV - Customer Orders Count",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerOrdersCount"
                    }
                ],
                "fingerprint": "1690423940205",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "32",
                "name": "DLV - Customer Total Spent",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerTotalSpent"
                    }
                ],
                "fingerprint": "1690423940205",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "33",
                "name": "DLV - Visitor Type",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "visitorType"
                    }
                ],
                "fingerprint": "1690423940205",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "34",
                "name": "Lookup Table - GA4 ID",
                "type": "smm",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "input",
                        "value": "{{Page Hostname}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultValue",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940206",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "35",
                "name": "DLV - Init",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "init"
                    }
                ],
                "fingerprint": "1690423940206",
                "parentFolderId": "3",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "true"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "true"
                    }
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "36",
                "name": "DLV - eventModel",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "eventModel"
                    }
                ],
                "fingerprint": "1690423940206",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "37",
                "name": "JS - Is Default GTM Virtual Pageview",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function isDefaultVirtualPageview() {\n  var em = {{DLV - eventModel}}\n  if (typeof em !== 'undefined') {\n    return true;\n  } else {\n    return false;\n  }\n}\n"
                    }
                ],
                "fingerprint": "1690423940317",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "39",
                "name": "JS - Get Query Parameter",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n  qp = document.location.search.split('?')[1];\n  if (qp == null){\n    qp = 'not set'\n  }\n  qp = qp.toLowerCase();\n  return qp\n}"
                    }
                ],
                "fingerprint": "1690423940318",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "40",
                "name": "JS - Page Type",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n    dl = location.pathname\n    hn = location.hostname\n    pageTypes = [\n        'home',\n        'category',\n        'product',\n        'searchresults',\n        'cart',\n        'purchase',\n        'account',\n        'other'\n    ]\n    regexSearch = [\n        '^\\/$',\n        '^\\/collections.*',\n        '^\\/products.*',\n        '^\\/search.*',\n        '^\\/cart.*',\n        '^\\/thank_you.*',\n        '^\\/account.*',\n        '.*'\n    ]\n    if (hn.match('^checkout\\..*\\..*') != null) {\n        pageType = 'checkout'\n    } else {\n        for (i=0; i<pageTypes.length; i++) {\n            pageType = pageTypes[i]\n            test = dl.match(regexSearch[i])\n            try {\n                test = test[0] == null\n                if (test === false) { break; }\n            }\n            catch(err) {\n                { continue; }\n            };\n        }\n        pageType = pageType.trim()\n    }\n    pageType = pageType.trim()\n    return pageType;\n}"
                    }
                ],
                "fingerprint": "1690423940318",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "44",
                "name": "DLV - Ecommerce - Add - Products - Variant",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.variant"
                    }
                ],
                "fingerprint": "1690423940207",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "46",
                "name": "DLV - Ecommerce - Detail - Products",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products"
                    }
                ],
                "fingerprint": "1690423940208",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "47",
                "name": "JS - Remarketing - View Item - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n    var gtmproductArray = {{DLV - Ecommerce - Detail - Products}};\n    var gaproductArray = [];\n    for (var i=0; i<gtmproductArray.length; i++){\n        var obj = {};\n        obj.id = 'shopify_US_' + gtmproductArray[i].productId + '_' + gtmproductArray[i].variantId;\n        obj.google_business_vertical = 'retail';\n        gaproductArray.push(obj);\n    }\n    return gaproductArray;\n    }"
                    }
                ],
                "fingerprint": "1690423940318",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "48",
                "name": "DLV - Ecommerce - Detail - Products - Price",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.price"
                    }
                ],
                "fingerprint": "1690423940208",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "49",
                "name": "Constant - Google Ads ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940247",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "52",
                "name": "DLV - Ecommerce - Purchase - Products - Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.name"
                    }
                ],
                "fingerprint": "1690423940248",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "54",
                "name": "Constant - Twitter ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940248",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "55",
                "name": "DLV - Ecommerce - Add - Products - Brand",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.brand"
                    }
                ],
                "fingerprint": "1690423940248",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "57",
                "name": "DLV - Ecommerce - Click - List",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.actionField.list"
                    }
                ],
                "fingerprint": "1690423940249",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "58",
                "name": "DLV - Ecommerce - Click - Products",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products"
                    }
                ],
                "fingerprint": "1690423940249",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "59",
                "name": "JS - Ecommerce - Click - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Click - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n    obj.item_list_name = {{DLV - Ecommerce - Click - List}};\n    obj.index = gtmproductArray[i].position;\n    obj.item_name = gtmproductArray[i].name;\n\tobj.item_id = gtmproductArray[i].id;\n    obj.item_brand = gtmproductArray[i].brand;\n    obj.item_category = gtmproductArray[i].category;\n    obj.item_variant = gtmproductArray[i].variant;\n\tobj.price = gtmproductArray[i].price;\n\tobj.quantity = gtmproductArray[i].quantity;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940318",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "60",
                "name": "JS - Checkout Page",
                "type": "j",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "Shopify.Checkout.step"
                    }
                ],
                "fingerprint": "1690423940249",
                "parentFolderId": "3",
                "formatValue": {
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "{{Page Path}}"
                    }
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "61",
                "name": "Constant - Auto Linked Domains",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940249",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "63",
                "name": "DLV - Event Label",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "eventLabel"
                    }
                ],
                "fingerprint": "1690423940250",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "64",
                "name": "DLV - Event Value",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultValue",
                        "value": "0"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "eventValue"
                    }
                ],
                "fingerprint": "1690423940250",
                "parentFolderId": "3",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "0"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "0"
                    }
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "65",
                "name": "DLV - Get Visitor Type",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "visitorType"
                    }
                ],
                "fingerprint": "1690423940250",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "66",
                "name": "DLV - Experience Variant",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "expVar"
                    }
                ],
                "fingerprint": "1690423940251",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "67",
                "name": "DLV - Original Location",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultValue",
                        "value": "{{Page URL}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "originalLocation"
                    }
                ],
                "fingerprint": "1690423940251",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "68",
                "name": "JS - Page",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function getPage() {\n    var dlPage = google_tag_manager[{{Container ID}}].dataLayer.get('page')\n    var path = document.location.pathname\n    var checkoutPath = {{JS - Checkout Page}}\n    switch(checkoutPath) {\n      case \"thank_you\":\n      checkoutPath = \"/checkout/thank_you\";\n      break;\n    case \"processing\":\n      checkoutPath = \"/checkout/processing\";\n      break;\n    case \"shipping_method\":\n      checkoutPath = \"/checkout/shipping\";\n      break;\n    case \"contact_information\":\n      checkoutPath = \"/checkout/contact_information\";\n      break;\n    case \"payment_method\":\n      checkoutPath = \"/checkout/payment\";\n    }\n    if (path.includes('checkouts')) {\n        var page = checkoutPath\n    } else if (isNaN(dlPage)) {\n        var page = path\n    } else {\n        var page = dlPage\n    }\n    return page\n}"
                    }
                ],
                "fingerprint": "1690423940318",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "69",
                "name": "DOM - Page Title",
                "type": "d",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "elementSelector",
                        "value": "title"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "selectorType",
                        "value": "CSS"
                    }
                ],
                "fingerprint": "1690423940251",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "70",
                "name": "DLV - Experiment ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "experimentId"
                    }
                ],
                "fingerprint": "1690423940251",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "71",
                "name": "JS - Get Hit Timestamp",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n    // Get local time as ISO string with offset at the end\n    var now = new Date();\n    var tzo = -now.getTimezoneOffset();\n    var dif = tzo >= 0 ? '+' : '-';\n    var pad = function(num) {\n        var norm = Math.abs(Math.floor(num));\n        return (norm < 10 ? '0' : '') + norm;\n    };\n    return now.getFullYear() \n        + '-' + pad(now.getMonth()+1)\n        + '-' + pad(now.getDate())\n        + 'T' + pad(now.getHours())\n        + ':' + pad(now.getMinutes()) \n        + ':' + pad(now.getSeconds())\n        + '.' + pad(now.getMilliseconds())\n        + dif + pad(tzo / 60) \n        + ':' + pad(tzo % 60);\n}"
                    }
                ],
                "fingerprint": "1690423940318",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "72",
                "name": "Lookup Table - GA3 UA ID",
                "type": "smm",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "input",
                        "value": "{{Page Hostname}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultValue",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940252",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "73",
                "name": "Admin - GA - Settings",
                "type": "gas",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "cookieDomain",
                        "value": "auto"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "doubleClick",
                        "value": "true"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setTrackerName",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useDebugVersion",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "fieldsToSet",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "anonymizeIp"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "true"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "siteSpeedSampleRate"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "25"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "customTask"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{Admin - Google Analytics - Custom Task}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "page"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{JS - Page}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "expId"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Experiment ID}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "expVar"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Experience Variant}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "location"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DLV - Original Location}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "fieldName",
                                        "value": "title"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "{{DOM - Page Title}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "useHashAutoLink",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "autoLinkDomains",
                        "value": "{{Constant - Auto Linked Domains}}"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "decorateFormsAutoLink",
                        "value": "false"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableLinkId",
                        "value": "false"
                    },
                    {
                        "type": "LIST",
                        "key": "dimension",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "index",
                                        "value": "2"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "dimension",
                                        "value": "{{JS - Get Hit Timestamp}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "index",
                                        "value": "3"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "dimension",
                                        "value": "{{JS - Get Query Parameter}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "index",
                                        "value": "5"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "dimension",
                                        "value": "{{DLV - Get Visitor Type}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "index",
                                        "value": "6"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "dimension",
                                        "value": "{{DLV - Visitor ID}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "index",
                                        "value": "7"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "dimension",
                                        "value": "{{DLV - Customer Orders Count}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "index",
                                        "value": "8"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "dimension",
                                        "value": "{{DLV - Customer Total Spent}}"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "index",
                                        "value": "9"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "dimension",
                                        "value": "{{JS - Page Type}}"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "enableEcommerce",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "trackingId",
                        "value": "{{Lookup Table - GA3 UA ID}}"
                    }
                ],
                "fingerprint": "1690423940252",
                "parentFolderId": "3"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "76",
                "name": "DLV - Postal Code",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerZip"
                    }
                ],
                "fingerprint": "1690423940252",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "77",
                "name": "DLV - Ecommerce - Add - Products",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products"
                    }
                ],
                "fingerprint": "1690423940253",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "78",
                "name": "JS - Ecommerce - Add - Items - Meta",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Add - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n\tobj.id = gtmproductArray[i].productId;\n\tobj.quantity = gtmproductArray[i].quantity;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940319",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "80",
                "name": "DLV - Customer First Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerFirstName"
                    }
                ],
                "fingerprint": "1690423940253",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "81",
                "name": "JS - Ecommerce - Purchase - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Purchase - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n    obj.item_name = gtmproductArray[i].name;\n\tobj.item_id = gtmproductArray[i].id;\n    obj.item_brand = gtmproductArray[i].brand;\n    obj.item_category = gtmproductArray[i].category;\n    obj.item_variant = gtmproductArray[i].variant;\n\tobj.price = gtmproductArray[i].price;\n\tobj.quantity = gtmproductArray[i].quantity;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940319",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "82",
                "name": "DLV - Ecommerce - Purchase - Action Field - Shipping",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.actionField.shipping"
                    }
                ],
                "fingerprint": "1690423940253",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "84",
                "name": "DLV - Ecommerce - Purchase - Action Field - Affiliation",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.actionField.affiliation"
                    }
                ],
                "fingerprint": "1690423940254",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "85",
                "name": "DLV - Ecommerce - Purchase - Action Field - Tax",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.actionField.tax"
                    }
                ],
                "fingerprint": "1690423940254",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "86",
                "name": "DLV - Ecommerce - Purchase - Action Field - Coupon",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.actionField.coupon"
                    }
                ],
                "fingerprint": "1690423940254",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "88",
                "name": "DLV - Ecommerce - Product Click - Products - Variant ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.variantId"
                    }
                ],
                "fingerprint": "1690423940255",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "89",
                "name": "DLV - Phone",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerPhone"
                    }
                ],
                "fingerprint": "1690423940255",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "90",
                "name": "JS - Get Session ID",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() { // Public Domain/MIT\n    var d = new Date().getTime();\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function'){\n        d += performance.now(); //use high-precision timer if available\n    }\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n        var r = (d + Math.random() * 16) % 16 | 0;\n        d = Math.floor(d / 16);\n        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n    });\n}"
                    }
                ],
                "fingerprint": "1690423940319",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "91",
                "name": "DLV - Ecommerce - Purchase - Products - Variant",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.variant"
                    }
                ],
                "fingerprint": "1690423940255",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "92",
                "name": "DLV - Ecommerce - Detail - Products - Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.name"
                    }
                ],
                "fingerprint": "1690423940255",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "93",
                "name": "JS - Ecommerce - Initiate Checkout - Meta - content_ids",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n    var contentIds = [];\n    var items = {{DLV - Ecommerce - Detail - Products}} || [];\n    \n    contentIds = items.slice(0,3).map(function(i){\n      return i.productId;  \n    });\n        \n    return contentIds;\n  }"
                    }
                ],
                "fingerprint": "1690423940319",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "94",
                "name": "DLV - Ecommerce - Add - Products - Category",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.category"
                    }
                ],
                "fingerprint": "1690423940256",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "96",
                "name": "Constant - Facebook Pixel ID 2",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940256",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "97",
                "name": "JS - Ecommerce - Detail - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Detail - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n    obj.item_name = gtmproductArray[i].name;\n\tobj.item_id = gtmproductArray[i].id;\n    obj.item_brand = gtmproductArray[i].brand;\n    obj.item_category = gtmproductArray[i].category;\n    obj.item_variant = gtmproductArray[i].variant;\n\tobj.price = gtmproductArray[i].price;\n\tobj.quantity = gtmproductArray[i].quantity;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940320",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "98",
                "name": "JS - Remarketing - Add to Cart - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n    var gtmproductArray = {{DLV - Ecommerce - Add - Products}};\n    var gaproductArray = [];\n    for (var i=0; i<gtmproductArray.length; i++){\n        var obj = {};\n        obj.id = 'shopify_US_' + gtmproductArray[i].productId + '_' + gtmproductArray[i].variantId;\n        obj.google_business_vertical = 'retail';\n        gaproductArray.push(obj);\n    }\n    return gaproductArray;\n    }"
                    }
                ],
                "fingerprint": "1690423940320",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "100",
                "name": "DLV - Customer Province",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerProvince"
                    }
                ],
                "fingerprint": "1690423940256",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "105",
                "name": "Constant - Bing UET ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940258",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "107",
                "name": "DLV - Ecommerce - Add - Products - Price",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.price"
                    }
                ],
                "fingerprint": "1690423940258",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "109",
                "name": "DLV - Ecommerce - Add - Products - Product ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.productId"
                    }
                ],
                "fingerprint": "1690423940259",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "111",
                "name": "DLV - Customer Last Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerLastName"
                    }
                ],
                "fingerprint": "1690423940259",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "112",
                "name": "DLV - Customer Email",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerEmail"
                    }
                ],
                "fingerprint": "1690423940260",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "113",
                "name": "Constant - Facebook Pixel ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940260",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "119",
                "name": "Constant - Klaviyo Company ID",
                "type": "c",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "value",
                        "value": "[UPDATE]"
                    }
                ],
                "fingerprint": "1690423940261",
                "parentFolderId": "14",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "121",
                "name": "DLV - Customer Country Code",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerCountryCode"
                    }
                ],
                "fingerprint": "1690423940261",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "122",
                "name": "DLV - Ecommerce - Product Click - Products - Category",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.category"
                    }
                ],
                "fingerprint": "1690423940262",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "123",
                "name": "DLV - Ecommerce - Impressions - Products",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.impressions"
                    }
                ],
                "fingerprint": "1690423940262",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "124",
                "name": "JS - View Item List - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n    var gtmproductArray = {{DLV - Ecommerce - Impressions - Products}};\n    var gaproductArray = [];\n    for (var i=0; i<gtmproductArray.length; i++){\n        var obj = {};\n        obj.id = gtmproductArray[i].productId;\n        gaproductArray.push(obj);\n    }\n    return gaproductArray;\n    }"
                    }
                ],
                "fingerprint": "1690423940321",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "125",
                "name": "JS - Ecommerce - View Content - Meta - content_ids",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n    var contentIds = [];\n    var items = {{DLV - Ecommerce - Detail - Products}} || [];\n    \n    contentIds = items.slice(0,3).map(function(i){\n      return i.productId;  \n    });\n        \n    return contentIds;\n  }"
                    }
                ],
                "fingerprint": "1690423940321",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "126",
                "name": "DLV - Ecommerce - Detail - Products - Brand",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.brand"
                    }
                ],
                "fingerprint": "1690423940262",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "127",
                "name": "DLV - Ecommerce - Detail - Products - Product ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.productId"
                    }
                ],
                "fingerprint": "1690423940262",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "128",
                "name": "DLV - Ecommerce - Detail - Products - Category",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.category"
                    }
                ],
                "fingerprint": "1690423940262",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "132",
                "name": "DLV - Address 1",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerAddress1"
                    }
                ],
                "fingerprint": "1690423940263",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "134",
                "name": "DLV - Cookies",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "true"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "defaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "allowCookies"
                    }
                ],
                "fingerprint": "1690423940264",
                "parentFolderId": "3",
                "formatValue": {
                    "convertNullToValue": {
                        "type": "TEMPLATE",
                        "value": "false"
                    },
                    "convertUndefinedToValue": {
                        "type": "TEMPLATE",
                        "value": "false"
                    }
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "135",
                "name": "DLV - Ecommerce - Purchase - Products - Brand",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.brand"
                    }
                ],
                "fingerprint": "1690423940264",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "136",
                "name": "DLV - Ecommerce - Product Click - Products - Variant",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.variant"
                    }
                ],
                "fingerprint": "1690423940264",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "137",
                "name": "DLV - Ecommerce - Product Click - Products - Price",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.price"
                    }
                ],
                "fingerprint": "1690423940264",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "142",
                "name": "LT - UA to GA4 Events",
                "type": "smm",
                "parameter": [
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "input",
                        "value": "{{DLV - Event Action}}"
                    },
                    {
                        "type": "LIST",
                        "key": "map",
                        "list": [
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "key",
                                        "value": "product click"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "select_item"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "key",
                                        "value": "product detail view"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "view_item"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "key",
                                        "value": "add to cart"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "add_to_cart"
                                    }
                                ]
                            },
                            {
                                "type": "MAP",
                                "map": [
                                    {
                                        "type": "TEMPLATE",
                                        "key": "key",
                                        "value": "transaction"
                                    },
                                    {
                                        "type": "TEMPLATE",
                                        "key": "value",
                                        "value": "purchase"
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "fingerprint": "1690423940265",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "143",
                "name": "JS - Ecommerce - Add - Meta - content_ids",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function () {\n    var contentIds = [];\n    var items = {{DLV - Ecommerce - Add - Products}} || [];\n    \n    contentIds = items.slice(0,3).map(function(i){\n      return i.productId;  \n    });\n        \n    return contentIds;\n  }"
                    }
                ],
                "fingerprint": "1690423940321",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "145",
                "name": "DLV - Ecommerce - Product Click - Products - Product ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.productId"
                    }
                ],
                "fingerprint": "1690423940266",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "148",
                "name": "DLV - Ecommerce - Product Click - Products - Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.name"
                    }
                ],
                "fingerprint": "1690423940307",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "150",
                "name": "DLV - Ecommerce - Add - Products - Quantity",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.quantity"
                    }
                ],
                "fingerprint": "1690423940308",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "151",
                "name": "DLV - Ecommerce - Add - Products - Name",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.name"
                    }
                ],
                "fingerprint": "1690423940308",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "157",
                "name": "DLV - Ecommerce - Purchase - Products - Price",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.price"
                    }
                ],
                "fingerprint": "1690423940309",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "159",
                "name": "DLV - Ecommerce - Purchase - Products - Category",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.category"
                    }
                ],
                "fingerprint": "1690423940309",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "160",
                "name": "DLV - Ecommerce - Product Click - Products - Brand",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.brand"
                    }
                ],
                "fingerprint": "1690423940310",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "161",
                "name": "DLV - Ecommerce - Product Click - Products - Quantity",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.click.products.0.quantity"
                    }
                ],
                "fingerprint": "1690423940310",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "166",
                "name": "DLV - Customer City",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "customerCity"
                    }
                ],
                "fingerprint": "1690423940311",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "170",
                "name": "JS - Remarketing - View Item List - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n    var gtmproductArray = {{DLV - Ecommerce - Impressions - Products}};\n    var gaproductArray = [];\n    for (var i=0; i<gtmproductArray.length; i++){\n        var obj = {};\n        obj.id = 'shopify_US_' + gtmproductArray[i].productId + '_' + gtmproductArray[i].variantId;\n        obj.google_business_vertical = 'retail';\n        gaproductArray.push(obj);\n    }\n    return gaproductArray;\n    }"
                    }
                ],
                "fingerprint": "1690423940322",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "172",
                "name": "JS - Remarketing - Purchase - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\n    var gtmproductArray = {{DLV - Ecommerce - Purchase - Products}};\n    var gaproductArray = [];\n    for (var i=0; i<gtmproductArray.length; i++){\n        var obj = {};\n        obj.id = 'shopify_US_' + gtmproductArray[i].productId + '_' + gtmproductArray[i].variantId;\n        obj.google_business_vertical = 'retail';\n        gaproductArray.push(obj);\n    }\n    return gaproductArray;\n    }"
                    }
                ],
                "fingerprint": "1690423940322",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "173",
                "name": "DLV - Ecommerce - Add - Products - Variant ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.add.products.0.variantId"
                    }
                ],
                "fingerprint": "1690423940312",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "174",
                "name": "DLV - Ecommerce - Detail - Products - Variant",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.variant"
                    }
                ],
                "fingerprint": "1690423940312",
                "parentFolderId": "3",
                "formatValue": {
                    "caseConversionType": "LOWERCASE"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "175",
                "name": "User-Provided Data",
                "type": "awec",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "mode",
                        "value": "MANUAL"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "country",
                        "value": "{{DLV - Customer Country Code}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "city",
                        "value": "{{DLV - Customer City}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "street",
                        "value": "{{DLV - Address 1}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "last_name",
                        "value": "{{DLV - Customer Last Name}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "phone_number",
                        "value": "{{DLV - Phone}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "region",
                        "value": "{{DLV - Customer Province}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "postal_code",
                        "value": "{{DLV - Postal Code}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "first_name",
                        "value": "{{DLV - Customer First Name}}"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "email",
                        "value": "{{DLV - Customer Email}}"
                    }
                ],
                "fingerprint": "1690423940313",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "177",
                "name": "JS - Ecommerce - Impressions - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Impressions - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n    obj.item_list_name = gtmproductArray[i].list;\n    obj.index = gtmproductArray[i].position;\n    obj.item_name = gtmproductArray[i].name;\n\tobj.item_id = gtmproductArray[i].id;\n    obj.item_brand = gtmproductArray[i].brand;\n    obj.item_category = gtmproductArray[i].category;\n    obj.item_variant = gtmproductArray[i].variant;\n\tobj.price = gtmproductArray[i].price;\n\tobj.quantity = gtmproductArray[i].quantity;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940322",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "180",
                "name": "DLV - Ecommerce - Detail - Products - Variant ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.variantId"
                    }
                ],
                "fingerprint": "1690423940313",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "181",
                "name": "DLV - Ecommerce - Purchase - Products - Quantity",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.quantity"
                    }
                ],
                "fingerprint": "1690423940314",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "182",
                "name": "JS - Ecommerce - Detail View - Items - Meta",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Detail - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n\tobj.id = gtmproductArray[i].productId;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940323",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "185",
                "name": "DLV - Ecommerce - Purchase - Products - Product ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.productId"
                    }
                ],
                "fingerprint": "1690423940314",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "187",
                "name": "JS - Ecommerce - Add - Items",
                "type": "jsm",
                "parameter": [
                    {
                        "type": "TEMPLATE",
                        "key": "javascript",
                        "value": "function() {\nvar gtmproductArray = {{DLV - Ecommerce - Add - Products}};\nvar gaproductArray = [];\nfor (var i=0; i<gtmproductArray.length; i++){\n    var obj = {};\n    obj.item_name = gtmproductArray[i].name;\n\tobj.item_id = gtmproductArray[i].id;\n    obj.item_brand = gtmproductArray[i].brand;\n    obj.item_category = gtmproductArray[i].category;\n    obj.item_variant = gtmproductArray[i].variant;\n\tobj.price = gtmproductArray[i].price;\n\tobj.quantity = gtmproductArray[i].quantity;\n\tgaproductArray.push(obj);\n}\nreturn gaproductArray;\n}"
                    }
                ],
                "fingerprint": "1690423940323",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "189",
                "name": "DLV - Ecommerce - Detail - Products - Quantity",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.detail.products.0.quantity"
                    }
                ],
                "fingerprint": "1690423940315",
                "parentFolderId": "3",
                "formatValue": {}
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "variableId": "190",
                "name": "DLV - Ecommerce - Purchase - Products - Variant ID",
                "type": "v",
                "parameter": [
                    {
                        "type": "INTEGER",
                        "key": "dataLayerVersion",
                        "value": "2"
                    },
                    {
                        "type": "BOOLEAN",
                        "key": "setDefaultValue",
                        "value": "false"
                    },
                    {
                        "type": "TEMPLATE",
                        "key": "name",
                        "value": "ecommerce.purchase.products.0.variantId"
                    }
                ],
                "fingerprint": "1690423940315",
                "parentFolderId": "3",
                "formatValue": {}
            }
        ],
        "folder": [
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "folderId": "3",
                "name": "Standard",
                "fingerprint": "1690423940199"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "folderId": "14",
                "name": "Custom",
                "fingerprint": "1690423940201"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "folderId": "30",
                "name": "Analytics",
                "fingerprint": "1690423940205"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "folderId": "45",
                "name": "Marketing",
                "fingerprint": "1690423940207"
            }
        ],
        "builtInVariable": [
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "PAGE_URL",
                "name": "Page URL"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "PAGE_HOSTNAME",
                "name": "Page Hostname"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "PAGE_PATH",
                "name": "Page Path"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "REFERRER",
                "name": "Referrer"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "EVENT",
                "name": "Event"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "CONTAINER_ID",
                "name": "Container ID"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "ENVIRONMENT_NAME",
                "name": "Environment Name"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_PROVIDER",
                "name": "Video Provider"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_URL",
                "name": "Video URL"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_TITLE",
                "name": "Video Title"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_DURATION",
                "name": "Video Duration"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_PERCENT",
                "name": "Video Percent"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_VISIBLE",
                "name": "Video Visible"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_STATUS",
                "name": "Video Status"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "VIDEO_CURRENT_TIME",
                "name": "Video Current Time"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "SCROLL_DEPTH_THRESHOLD",
                "name": "Scroll Depth Threshold"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "SCROLL_DEPTH_UNITS",
                "name": "Scroll Depth Units"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "SCROLL_DEPTH_DIRECTION",
                "name": "Scroll Direction"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "ELEMENT_VISIBILITY_RATIO",
                "name": "Percent Visible"
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "type": "ELEMENT_VISIBILITY_TIME",
                "name": "On-Screen Duration"
            }
        ],
        "fingerprint": "1690424163629",
        "tagManagerUrl": "https://tagmanager.google.com/#/versions/accounts/6139183063/containers/137025910/versions/0?apiLink=version",
        "customTemplate": [
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "templateId": "22",
                "name": "Reddit Pixel",
                "fingerprint": "1690423953150",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"displayName\": \"Reddit Pixel\",\n  \"description\": \"By using the Reddit Conversion Pixel you agree to comply with and to be bound by the Reddit Advertiser Measurement Program Terms\\n\\nhttps://www.reddithelp.com/en/categories/advertising/policy-guideline\",\n  \"securityGroups\": [],\n  \"id\": \"cvt_temp_public_id\",\n  \"type\": \"TAG\",\n  \"version\": 1,\n  \"brand\": {\n    \"thumbnail\": \"data:image/png;base64,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\\u003d\",\n    \"displayName\": \"reddit\",\n    \"id\": \"github.com_reddit\"\n  },\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"help\": \"You can find your ad account ID at \\u003ca href\\u003d\\\"https://ads.reddit.com/events-manager#pixel-onboarding/gtm\\\"\\u003ehttps://ads.reddit.com/events-manager#pixel-onboarding/gtm\\u003c/a\\u003e\",\n    \"valueValidators\": [\n      {\n        \"type\": \"NON_EMPTY\"\n      },\n      {\n        \"args\": [\n          3,\n          100\n        ],\n        \"type\": \"STRING_LENGTH\"\n      },\n      {\n        \"args\": [\n          \"(t2_|a2_)[a-z0-9]+\"\n        ],\n        \"type\": \"REGEX\"\n      }\n    ],\n    \"displayName\": \"Ad Account ID\",\n    \"simpleValueType\": true,\n    \"name\": \"id\",\n    \"type\": \"TEXT\",\n    \"valueHint\": \"t2_***** or a2_*****\"\n  },\n  {\n    \"macrosInSelect\": false,\n    \"selectItems\": [\n      {\n        \"displayValue\": \"Page Visit\",\n        \"value\": \"PageVisit\"\n      },\n      {\n        \"displayValue\": \"View Content\",\n        \"value\": \"ViewContent\"\n      },\n      {\n        \"displayValue\": \"Search\",\n        \"value\": \"Search\"\n      },\n      {\n        \"displayValue\": \"Add to Cart\",\n        \"value\": \"AddToCart\"\n      },\n      {\n        \"displayValue\": \"Add To Wishlist\",\n        \"value\": \"AddToWishlist\"\n      },\n      {\n        \"displayValue\": \"Purchase\",\n        \"value\": \"Purchase\"\n      },\n      {\n        \"displayValue\": \"Lead\",\n        \"value\": \"Lead\"\n      },\n      {\n        \"displayValue\": \"Sign Up\",\n        \"value\": \"SignUp\"\n      },\n      {\n        \"value\": \"Custom\",\n        \"displayValue\": \"Custom\"\n      }\n    ],\n    \"displayName\": \"Event to Fire\",\n    \"simpleValueType\": true,\n    \"name\": \"eventType\",\n    \"type\": \"SELECT\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"customEventName\",\n    \"displayName\": \"CustomEventName\",\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Custom\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"currency\",\n    \"displayName\": \"Currency\",\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"AddToCart\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"AddToWishlist\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Purchase\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"SignUp\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Lead\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Custom\",\n        \"type\": \"EQUALS\"\n      }\n    ],\n    \"help\": \"Currency should follow the ISO 4217 standard\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"transactionValue\",\n    \"displayName\": \"Transaction Value\",\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"AddToCart\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"AddToWishlist\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Purchase\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"SignUp\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Lead\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Custom\",\n        \"type\": \"EQUALS\"\n      }\n    ],\n    \"help\": \"The value of the transaction as a decimal value of currency.  For example, a value of $10.99 USD should be entered as \\\"10.99\\\".\"\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"itemCount\",\n    \"displayName\": \"Item Count\",\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"AddToCart\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"AddToWishlist\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Purchase\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Custom\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"transactionId\",\n    \"displayName\": \"Transaction ID\",\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Purchase\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"SignUp\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Lead\",\n        \"type\": \"EQUALS\"\n      },\n      {\n        \"paramName\": \"eventType\",\n        \"paramValue\": \"Custom\",\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"TEXT\",\n    \"name\": \"conversionId\",\n    \"displayName\": \"Conversion ID\",\n    \"simpleValueType\": true,\n    \"help\": \"Unique Conversion ID that corresponds to a distinct conversion event. Conversion ID is used for deduplication and prevents the same conversion event from being processed more than once if it is sent multiple times.\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"enableFirstPartyCookies\",\n    \"checkboxText\": \"Enable First Party Cookies\",\n    \"simpleValueType\": true,\n    \"defaultValue\": true\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"advancedMatching\",\n    \"checkboxText\": \"Enable Advanced Matching\",\n    \"simpleValueType\": true\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"advancedMatchingGroup\",\n    \"displayName\": \"Advanced Matching Parameters\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"advancedMatchingParams\",\n        \"displayName\": \"\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter Name\",\n            \"name\": \"name\",\n            \"type\": \"SELECT\",\n            \"selectItems\": [\n              {\n                \"value\": \"email\",\n                \"displayValue\": \"Email\"\n              },\n              {\n                \"value\": \"aaid\",\n                \"displayValue\": \"AAID\"\n              },\n              {\n                \"value\": \"idfa\",\n                \"displayValue\": \"IDFA\"\n              },\n              {\n                \"value\": \"externalId\",\n                \"displayValue\": \"External ID\"\n              }\n            ],\n            \"isUnique\": true,\n            \"macrosInSelect\": false\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\",\n            \"valueValidators\": [\n              {\n                \"type\": \"NON_EMPTY\"\n              }\n            ]\n          }\n        ]\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"advancedMatching\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"products\",\n    \"displayName\": \"Product Information\",\n    \"subParams\": [\n      {\n        \"type\": \"RADIO\",\n        \"name\": \"productInputType\",\n        \"displayName\": \"Input Type\",\n        \"radioItems\": [\n          {\n            \"value\": \"entryManual\",\n            \"displayValue\": \"Individual Entry\",\n            \"help\": \"Configure product-level information using one row per unique product.\"\n          },\n          {\n            \"value\": \"entryJSON\",\n            \"displayValue\": \"JSON Payload\",\n            \"help\": \"Configure product-level information by submitting an array of unique products in JSON format.\"\n          }\n        ],\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"productsRows\",\n        \"displayName\": \"Individual Entry\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Product ID\",\n            \"name\": \"id\",\n            \"type\": \"TEXT\",\n            \"valueHint\": \"The item\\u0027s ID in the catalog\",\n            \"isUnique\": false\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Product Name\",\n            \"name\": \"name\",\n            \"type\": \"TEXT\",\n            \"valueHint\": \"\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Product Category\",\n            \"name\": \"category\",\n            \"type\": \"TEXT\",\n            \"valueHint\": \"For example, Google\\u0027s product taxonomy\",\n            \"isUnique\": false\n          }\n        ],\n        \"help\": \"The Product ID and Product Category are required, but the Product Name is optional.\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"productInputType\",\n            \"paramValue\": \"entryManual\",\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"productsJSON\",\n        \"displayName\": \"JSON Payload\",\n        \"simpleValueType\": true,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"productInputType\",\n            \"paramValue\": \"entryJSON\",\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"help\": \"The Product ID and Product Category are required, but the Product Name is optional. Format: [ { \\\"id\\\": \\\"Product_ID\\\", \\\"name\\\": \\\"Product_Name\\\",  \\\"category\\\": \\\"Product_Category\\\" }, ... ]\"\n      }\n    ],\n    \"groupStyle\": \"ZIPPY_CLOSED\"\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nvar injectScript = require('injectScript');\nvar copyFromWindow = require('copyFromWindow');\nvar setInWindow = require('setInWindow');\nvar callInWindow = require('callInWindow');\nvar createQueue = require('createQueue');\nvar makeTableMap = require('makeTableMap');\nvar JSON = require('JSON');\n\nvar getRdt = function() {\n  var _rdt = copyFromWindow('rdt');\n  if (_rdt) {\n    return _rdt;\n  }\n\n  var queue;\n  setInWindow('rdt', function() {\n    var sendEvent = copyFromWindow('rdt.sendEvent');\n    if (sendEvent) {\n      callInWindow('rdt.sendEvent.apply', _rdt, arguments);\n    } else {\n      queue(arguments);\n    }\n  });\n  queue = createQueue('rdt.callQueue');\n  return copyFromWindow('rdt');\n};\n\nvar initData = data.advancedMatchingParams && data.advancedMatchingParams.length ? makeTableMap(data.advancedMatchingParams, 'name', 'value') : {};\n\ninitData.integration = 'gtm';\ninitData.useDecimalCurrencyValues = true;\n\nvar _rdt = getRdt();\nif (!_rdt.advertiserId) {\n  _rdt('init', data.id, initData);\n}\n\nif (!data.enableFirstPartyCookies) {\n  _rdt('disableFirstPartyCookies');\n}\n\n\nvar eventMetadata = {\n  currency: data.currency,\n  value: data.transactionValue,\n};\n\n// If there is product information, add it to the eventMetadata.\nif (data.productInputType == \"entryManual\" && data.productsRows && data.productsRows.length) {\n  // The simple table is of the correct format - an array of objects.\n  // We can assign it directly.\n  eventMetadata.products = data.productsRows;\n} else if (data.productInputType == \"entryJSON\" && data.productsJSON && data.productsJSON.length) {\n  // The text input should be stringified JSON. The Pixel handles validation/normalization.\n  // We can assign it directly.\n  eventMetadata.products = data.productsJSON;\n}\n\n// Certain events don't support certain params, so we conditionally set them\nif (data.eventType != \"AddToCart\" && data.eventType != \"AddToWishlist\") {\n  eventMetadata.transactionId = data.transactionId;\n}\n\nif (data.eventType != \"SignUp\" && data.eventType != \"Lead\") {\n  eventMetadata.itemCount = data.itemCount;\n}\n\nif (data.eventType == \"Custom\" && data.customEventName) {\n  eventMetadata.customEventName = data.customEventName;\n}\n\nif (data.conversionId) {\n  eventMetadata.conversionId = data.conversionId;\n}\n\n_rdt('track', data.eventType, eventMetadata);\n\ninjectScript('https://www.redditstatic.com/ads/pixel.js', data.gtmOnSuccess, data.gtmOnFailure, 'rdtPixel');\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"inject_script\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://www.redditstatic.com/ads/pixel.js\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"rdt\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"rdt.callQueue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"rdt.sendEvent.apply\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"rdt.callQueue.push\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"rdt.sendEvent\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"rdt.advertiserId\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Test injectScript\n  code: |-\n    var success, failure;\n    mock('injectScript', (url, onSuccess, onFailure) => {\n      success = onSuccess;\n      failure = onFailure;\n      assertThat(url).isEqualTo('https://www.redditstatic.com/ads/pixel.js');\n      onSuccess();\n    });\n\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('injectScript').wasCalledWith(url, success, failure, 'rdtPixel');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test rdt exists\n  code: |\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return () => {};\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test rdt doesn't exist\n  code: |-\n    let rdt;\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return rdt;\n    });\n\n    mock('createQueue', function(name) {\n      assertThat(name).isEqualTo('rdt.callQueue');\n      return function(item) {\n        assertThat(item).isNotNull();\n      };\n    });\n\n    mock('setInWindow', (key, val) => {\n      if (key === 'rdt') rdt = val;\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('setInWindow').wasCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test enabledFirstPartyCookies false\n  code: |-\n    mockData.enableFirstPartyCookies = false;\n\n    let isSet = false;\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n         if (arguments[0] === 'disableFirstPartyCookies') {\n           isSet = true;\n         }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertThat(isSet, 'disableFirstPartyCookies not set even though first party cookies are disabled').isTrue();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test enabledFirstPartyCookies true\n  code: |-\n    mockData.enableFirstPartyCookies = true;\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n         if (arguments[0] === 'disableFirstPartyCookies') fail('disableFirstPartyCookies called even though first party cookies are enabled');\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Advanced Matching\n  code: |\n    mockData = {\n      id: \"t2_123\",\n      event_type: \"PageVisit\",\n      enableFirstPartyCookies: true,\n      advancedMatching: true,\n      advancedMatchingParams: [\n        {name: 'email', value: 'alice@example.com'},\n        {name: 'aaid', value: 'cdda802e-fb9c-47ad-9866-0794d394c912'},\n        {name: 'idfa', value: 'EA7583CD-A667-48BC-B806-42ECB2B48606'}\n      ],\n    };\n\n    const expected = {\n      useDecimalCurrencyValues: true,\n      email: 'alice@example.com',\n      aaid: 'cdda802e-fb9c-47ad-9866-0794d394c912',\n      idfa: 'EA7583CD-A667-48BC-B806-42ECB2B48606',\n      integration: 'gtm'\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n         if (arguments[0] === 'init') {\n          assertThat(arguments[2], 'Advanced matching parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('makeTableMap').wasCalledWith(mockData.advancedMatchingParams, 'name', 'value');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Event Metadata Purchase\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"Purchase\",\n      enableFirstPartyCookies: true,\n      itemCount: 1,\n      transactionValue: 1000,\n      currency: \"USD\",\n      transactionId: \"123456789\",\n    };\n\n    const expected = {\n      itemCount: 1,\n      value: 1000,\n      currency: 'USD',\n      transactionId: '123456789'\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Event Metadata TransactionId Omission\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"AddToCart\",\n      enableFirstPartyCookies: true,\n      itemCount: 1,\n      transactionValue: 1000,\n      currency: \"USD\",\n      transactionId: \"123456789\",\n    };\n\n    const expected = {\n      itemCount: 1,\n      value: 1000,\n      currency: 'USD',\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Event Metadata ItemCount Omission\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"AddToCart\",\n      enableFirstPartyCookies: true,\n      itemCount: 1,\n      transactionValue: 1000,\n      currency: \"USD\",\n      transactionId: \"123456789\",\n    };\n\n    const expected = {\n      itemCount: 1,\n      value: 1000,\n      currency: 'USD',\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test pixel init - set Advertiser ID and integration type\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'init') {\n          assertThat(arguments[1], 'Incorrect Advertiser ID').isEqualTo(mockData.id);\n          assertThat(arguments[2].integration, 'Integration type not set').isEqualTo('gtm');\n        }\n      };\n    });\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test pixel init - set a2_ advertiser ID and integration type\n  code: |-\n    mockData = {\n      id: 'a2_123',\n      eventType: 'PageVisit',\n      enableFirstPartyCookies: true,\n      advancedMatching: false,\n      advancedMatchingParams: [],\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'init') {\n          assertThat(arguments[1], 'Incorrect Advertiser ID').isEqualTo(mockData.id);\n          assertThat(arguments[2].integration, 'Integration type not set').isEqualTo('gtm');\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Tracking Event Type\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[1], 'Incorrect Tracking Event Type').isEqualTo(mockData.eventType);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Custom Event\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"Custom\",\n      enableFirstPartyCookies: true,\n      itemCount: 1,\n      transactionValue: 1000,\n      currency: \"USD\",\n      transactionId: \"123456789\",\n      customEventName: \"Subscribe\",\n    };\n\n    const expected = {\n      itemCount: 1,\n      value: 1000,\n      currency: 'USD',\n      transactionId: \"123456789\",\n      customEventName: \"Subscribe\",\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Custom Event Name Omission\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"AddToCart\",\n      enableFirstPartyCookies: true,\n      itemCount: 1,\n      transactionValue: 1000,\n      currency: \"USD\",\n      transactionId: \"123456789\",\n      customEventName: \"Subscribe\",\n    };\n\n    const expected = {\n      itemCount: 1,\n      value: 1000,\n      currency: 'USD',\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Products Rows\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"AddToCart\",\n      enableFirstPartyCookies: true,\n      productInputType: \"entryManual\",\n      productsRows: [{'id':'123456789','category':'Food','name':'Carne Asada Burrito'}]\n    };\n\n    const expected = {\n      currency: undefined,\n      value: undefined,\n      itemCount: undefined,\n      products: [{'id':'123456789','category':'Food','name':'Carne Asada Burrito'}]\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata product parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Products Empty Rows\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"AddToCart\",\n      enableFirstPartyCookies: true,\n      productInputType: \"entryManual\",\n      productsRows: []\n    };\n\n    const expected = {\n      currency: undefined,\n      value: undefined,\n      itemCount: undefined,\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata product parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Products Mismatched Inputs\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"AddToCart\",\n      enableFirstPartyCookies: true,\n      productInputType: \"entryJSON\",\n      productsRows: []\n    };\n\n    const expected = {\n      currency: undefined,\n      value: undefined,\n      itemCount: undefined,\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata product parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Products JSON\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"AddToCart\",\n      enableFirstPartyCookies: true,\n      productInputType: \"entryJSON\",\n      productsJSON: '[{\"id\":\"123456789\",\"category\":\"Food\",\"name\":\"Carne Asada Burrito\"}]',\n    };\n\n    const expected = {\n      currency: undefined,\n      value: undefined,\n      itemCount: undefined,\n      products: '[{\"id\":\"123456789\",\"category\":\"Food\",\"name\":\"Carne Asada Burrito\"}]'\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata product parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Test Event Metadata ConversionId\n  code: |-\n    mockData = {\n      id: \"t2_potato\",\n      eventType: \"PageVisit\",\n      conversionId: \"conversion-id\",\n    };\n\n    const expected = {\n      itemCount: undefined,\n      value: undefined,\n      currency: undefined,\n      transactionId: undefined,\n      conversionId: \"conversion-id\",\n    };\n\n    mock('copyFromWindow', key => {\n      if (key === 'rdt') return function() {\n        if (arguments[0] === 'track') {\n          assertThat(arguments[2], 'Event metadata parameters incorrect').isEqualTo(expected);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\nsetup: |-\n  let mockData = {\n    id: 't2_123',\n    eventType: 'PageVisit',\n    enableFirstPartyCookies: true,\n    advancedMatching: false,\n    advancedMatchingParams: [],\n  };\n\n  const url = 'https://www.redditstatic.com/ads/pixel.js';\n\n  mock('injectScript', (url, onSuccess, onFailure) => {\n    onSuccess();\n  });\n\n\n___NOTES___\n\nCreated on 1/13/2020, 9:31:41 AM\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "reddit",
                    "repository": "reddit-gtm-template",
                    "version": "19629745821b7140315cf4c429625a91351b8b48",
                    "signature": "a88e64033794677d05e95f391077b1eab5cc99cc04f100ae6f1cd33d8faad934"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "templateId": "101",
                "name": "Facebook Pixel",
                "fingerprint": "1690423940256",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"displayName\": \"Facebook Pixel\",\n  \"__wm\": \"VGVtcGxhdGUtQXV0aG9yX0ZhY2Vib29rLVNpbW8tQWhhdmE\\u003d\",\n  \"description\": \"This is an unofficial Google Tag Manager template for the Facebook Pixel.\",\n  \"securityGroups\": [],\n  \"categories\": [\n    \"ADVERTISING\",\n    \"ANALYTICS\"\n  ],\n  \"id\": \"cvt_temp_public_id\",\n  \"type\": \"TAG\",\n  \"version\": 1,\n  \"brand\": {\n    \"displayName\": \"facebookincubator\",\n    \"id\": \"github.com_facebookincubator\",\n    \"thumbnail\": \"data:image/png;base64,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\"\n  },\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"alwaysInSummary\": true,\n    \"valueValidators\": [\n      {\n        \"errorMessage\": \"You must provide a Pixel ID\",\n        \"type\": \"NON_EMPTY\"\n      },\n      {\n        \"args\": [\n          \"^[0-9,]+$\"\n        ],\n        \"errorMessage\": \"Invalid Pixel ID format\",\n        \"type\": \"REGEX\"\n      }\n    ],\n    \"displayName\": \"Facebook Pixel ID(s)\",\n    \"simpleValueType\": true,\n    \"name\": \"pixelId\",\n    \"type\": \"TEXT\",\n    \"valueHint\": \"e.g. 12345678910\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"enhancedEcommerce\",\n    \"checkboxText\": \"Enhanced Ecommerce dataLayer Integration\",\n    \"simpleValueType\": true,\n    \"help\": \"If you check this, then the Facebook pixel will populate \\u003cstrong\\u003eEvent Name\\u003c/strong\\u003e and \\u003cstrong\\u003eObject Properties\\u003c/strong\\u003e automatically from the last \\u003ca href\\u003d\\\"https://developers.google.com/tag-manager/enhanced-ecommerce\\\"\\u003eecommerce\\u003c/a\\u003e object pushed into the dataLayer array.\"\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eventName\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"standard\",\n        \"displayValue\": \"Standard\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"standardEventName\",\n            \"macrosInSelect\": false,\n            \"selectItems\": [\n              {\n                \"displayValue\": \"PageView\",\n                \"value\": \"PageView\"\n              },\n              {\n                \"displayValue\": \"AddPaymentInfo\",\n                \"value\": \"AddPaymentInfo\"\n              },\n              {\n                \"displayValue\": \"AddToCart\",\n                \"value\": \"AddToCart\"\n              },\n              {\n                \"displayValue\": \"AddToWishlist\",\n                \"value\": \"AddToWishlist\"\n              },\n              {\n                \"displayValue\": \"CompleteRegistration\",\n                \"value\": \"CompleteRegistration\"\n              },\n              {\n                \"displayValue\": \"Contact\",\n                \"value\": \"Contact\"\n              },\n              {\n                \"displayValue\": \"CustomizeProduct\",\n                \"value\": \"CustomizeProduct\"\n              },\n              {\n                \"displayValue\": \"Donate\",\n                \"value\": \"Donate\"\n              },\n              {\n                \"displayValue\": \"FindLocation\",\n                \"value\": \"FindLocation\"\n              },\n              {\n                \"displayValue\": \"InitiateCheckout\",\n                \"value\": \"InitiateCheckout\"\n              },\n              {\n                \"displayValue\": \"Lead\",\n                \"value\": \"Lead\"\n              },\n              {\n                \"displayValue\": \"Purchase\",\n                \"value\": \"Purchase\"\n              },\n              {\n                \"displayValue\": \"Schedule\",\n                \"value\": \"Schedule\"\n              },\n              {\n                \"displayValue\": \"Search\",\n                \"value\": \"Search\"\n              },\n              {\n                \"displayValue\": \"StartTrial\",\n                \"value\": \"StartTrial\"\n              },\n              {\n                \"displayValue\": \"SubmitApplication\",\n                \"value\": \"SubmitApplication\"\n              },\n              {\n                \"displayValue\": \"Subscribe\",\n                \"value\": \"Subscribe\"\n              },\n              {\n                \"displayValue\": \"ViewContent\",\n                \"value\": \"ViewContent\"\n              }\n            ],\n            \"simpleValueType\": true,\n            \"defaultValue\": \"PageView\"\n          }\n        ]\n      },\n      {\n        \"value\": \"custom\",\n        \"displayValue\": \"Custom\",\n        \"subParams\": [\n          {\n            \"type\": \"TEXT\",\n            \"name\": \"customEventName\",\n            \"displayName\": \"\",\n            \"simpleValueType\": true\n          }\n        ]\n      },\n      {\n        \"value\": \"variable\",\n        \"displayValue\": \"Variable\",\n        \"subParams\": [\n          {\n            \"type\": \"SELECT\",\n            \"name\": \"variableEventName\",\n            \"macrosInSelect\": true,\n            \"selectItems\": [],\n            \"simpleValueType\": true\n          }\n        ]\n      }\n    ],\n    \"simpleValueType\": true,\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"enhancedEcommerce\",\n        \"paramValue\": true,\n        \"type\": \"NOT_EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"RADIO\",\n    \"name\": \"eecEventName\",\n    \"displayName\": \"Event Name\",\n    \"radioItems\": [\n      {\n        \"value\": \"eec\",\n        \"displayValue\": \"Set automatically from dataLayer\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"help\": \"The Enhanced Ecommerce integration populates the Event Name automatically depending on what type of \\u003cstrong\\u003eecommerce\\u003c/strong\\u003e object was last pushed into dataLayer (\\\"detail\\\" -\\u003e \\\"ViewContent\\\", \\\"add\\\" -\\u003e \\\"AddToCart\\\", \\\"checkout\\\" -\\u003e \\\"InitiateCheckout\\\", \\\"purchase\\\" -\\u003e \\\"Purchase\\\").\",\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"enhancedEcommerce\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"SELECT\",\n    \"name\": \"consent\",\n    \"displayName\": \"Consent Granted (GDPR)\",\n    \"macrosInSelect\": true,\n    \"selectItems\": [\n      {\n        \"value\": true,\n        \"displayValue\": \"True\"\n      },\n      {\n        \"value\": false,\n        \"displayValue\": \"False\"\n      }\n    ],\n    \"simpleValueType\": true,\n    \"help\": \"If you set Consent Granted to \\u003cstrong\\u003efalse\\u003c/strong\\u003e, the pixel will not send any hits until a tag is fired where Consent Granted is set to \\u003cstrong\\u003etrue\\u003c/strong\\u003e. See \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/facebook-pixel/implementation/gdpr/\\\"\\u003ethis article\\u003c/a\\u003e for more information.\"\n  },\n  {\n    \"simpleValueType\": true,\n    \"name\": \"advancedMatching\",\n    \"checkboxText\": \"Enable Advanced Matching\",\n    \"type\": \"CHECKBOX\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"dataProcessingOptionsGroup\",\n    \"displayName\": \"Data Processing Options\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"LABEL\",\n        \"name\": \"dpoInfo\",\n        \"displayName\": \"Data Processing Options force this Facebook event to comply to regional regulations with regard to the processing and selling of user data. Read \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-apis/data-processing-options\\\"\\u003ethis\\u003c/a\\u003e for more information about how to configure this section.\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"dpoLDU\",\n        \"checkboxText\": \"Limited Data Use (LDU)\",\n        \"simpleValueType\": true\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dpoCountry\",\n        \"displayName\": \"Country\",\n        \"simpleValueType\": true,\n        \"defaultValue\": 0,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dpoLDU\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NUMBER\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dpoState\",\n        \"displayName\": \"State\",\n        \"simpleValueType\": true,\n        \"defaultValue\": 0,\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"dpoLDU\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"valueValidators\": [\n          {\n            \"type\": \"NUMBER\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"advancedMatching\",\n        \"type\": \"EQUALS\",\n        \"paramValue\": true\n      }\n    ],\n    \"displayName\": \"Customer Information Data Parameters\",\n    \"name\": \"advancedMatchingGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"displayName\": \"\",\n        \"name\": \"advancedMatchingList\",\n        \"simpleTableColumns\": [\n          {\n            \"selectItems\": [\n              {\n                \"displayValue\": \"City\",\n                \"value\": \"ct\"\n              },\n              {\n                \"displayValue\": \"Country\",\n                \"value\": \"cn\"\n              },\n              {\n                \"displayValue\": \"Date of Birth\",\n                \"value\": \"db\"\n              },\n              {\n                \"displayValue\": \"Email\",\n                \"value\": \"em\"\n              },\n              {\n                \"displayValue\": \"External ID\",\n                \"value\": \"external_id\"\n              },\n              {\n                \"displayValue\": \"First Name\",\n                \"value\": \"fn\"\n              },\n              {\n                \"displayValue\": \"Gender\",\n                \"value\": \"ge\"\n              },\n              {\n                \"displayValue\": \"Last Name\",\n                \"value\": \"ln\"\n              },\n              {\n                \"displayValue\": \"Phone\",\n                \"value\": \"ph\"\n              },\n              {\n                \"displayValue\": \"State\",\n                \"value\": \"st\"\n              },\n              {\n                \"displayValue\": \"Zip Code\",\n                \"value\": \"zp\"\n              }\n            ],\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"SELECT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Parameter value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add parameter\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ]\n  },\n  {\n    \"displayName\": \"Object Properties\",\n    \"name\": \"objectPropertiesGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"type\": \"LABEL\",\n        \"name\": \"enhancedEcommerceObject\",\n        \"displayName\": \"\\u003cstrong\\u003eWarning!\\u003c/strong\\u003e Object properties are populated automatically based on the most recent \\u003cstrong\\u003eecommerce\\u003c/strong\\u003e object pushed into dataLayer. If you add properties here that are already set by the integration (content_type, contents, num_items, value, currency), then the properties you add here will override those set automatically by the integration!\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"enhancedEcommerce\",\n            \"paramValue\": true,\n            \"type\": \"EQUALS\"\n          }\n        ]\n      },\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"objectPropertiesFromVariable\",\n        \"displayName\": \"Load Properties From Variable\",\n        \"macrosInSelect\": true,\n        \"selectItems\": [\n          {\n            \"value\": false,\n            \"displayValue\": \"False\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"help\": \"You can use a variable that returns a JavaScript object with the properties you want to use. This object will be merged with any additional properties you add via the table below. Any conflicts will be resolved in favor of the properties you add to the table.\"\n      },\n      {\n        \"name\": \"objectPropertyList\",\n        \"simpleTableColumns\": [\n          {\n            \"valueValidators\": [],\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Name\",\n            \"name\": \"name\",\n            \"isUnique\": true,\n            \"type\": \"TEXT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Property Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ],\n        \"type\": \"SIMPLE_TABLE\",\n        \"newRowButtonText\": \"Add property\"\n      }\n    ]\n  },\n  {\n    \"displayName\": \"More Settings\",\n    \"name\": \"moreSettingsGroup\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"type\": \"GROUP\",\n    \"subParams\": [\n      {\n        \"help\": \"Facebook collects some metadata (e.g. structured data) and user interactions (e.g. clicks) automatically. Check this box to disable this automatic configuration of the pixel.\",\n        \"simpleValueType\": true,\n        \"name\": \"disableAutoConfig\",\n        \"checkboxText\": \"Disable Automatic Configuration\",\n        \"type\": \"CHECKBOX\"\n      },\n      {\n        \"type\": \"CHECKBOX\",\n        \"name\": \"disablePushState\",\n        \"checkboxText\": \"Disable History Event Tracking\",\n        \"simpleValueType\": true,\n        \"help\": \"The Facebook Pixel tracks history events (pushState and replaceState) automatically as PageViews. Check this box to prevent the pixel from tracking such events automatically.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"eventId\",\n        \"displayName\": \"Event ID\",\n        \"simpleValueType\": true,\n        \"help\": \"Set the Event ID parameter in case you are tracking the same event server-side as well. The Event ID can be used to deduplicate the same event if sent from multiple sources. See more \\u003ca href\\u003d\\\"https://developers.facebook.com/docs/marketing-api/conversions-api/deduplicate-pixel-and-server-events/\\\"\\u003ehere\\u003c/a\\u003e.\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst createQueue = require('createQueue');\nconst callInWindow = require('callInWindow');\nconst aliasInWindow = require('aliasInWindow');\nconst copyFromWindow = require('copyFromWindow');\nconst setInWindow = require('setInWindow');\nconst injectScript = require('injectScript');\nconst makeTableMap = require('makeTableMap');\nconst makeNumber = require('makeNumber');\nconst getType = require('getType');\nconst copyFromDataLayer = require('copyFromDataLayer');\nconst math = require('Math');\nconst log = require('logToConsole');\n\nconst initIds = copyFromWindow('_fbq_gtm_ids') || [];\nconst pixelIds = data.pixelId;\nconst standardEventNames = ['AddPaymentInfo', 'AddToCart', 'AddToWishlist', 'CompleteRegistration', 'Contact', 'CustomizeProduct', 'Donate', 'FindLocation', 'InitiateCheckout', 'Lead', 'PageView', 'Purchase', 'Schedule', 'Search', 'StartTrial', 'SubmitApplication', 'Subscribe', 'ViewContent'];\nconst ecommerce = copyFromDataLayer('ecommerce', 1);\n\n// Helper methods\nconst fail = msg => {\n  log(msg);\n  data.gtmOnFailure();\n};\n\nconst mergeObj = (obj, obj2) => {\n  for (let key in obj2) {\n    if (obj2.hasOwnProperty(key)) {\n      obj[key] = obj2[key];\n    }\n  }\n  return obj;\n};\n\nconst parseEecObj = prod => {\n  return {\n    id: prod.id,\n    quantity: prod.quantity\n  };\n};\n\n// Initialize EEC integration\nlet eventName, action, eecObjectProps;\nif (data.enhancedEcommerce) {\n  if (!ecommerce) return fail('Facebook Pixel: No valid \"ecommerce\" object found in dataLayer');\n  if (ecommerce.detail) { eventName = 'ViewContent'; action = 'detail'; }\n  else if (ecommerce.add) { eventName = 'AddToCart'; action = 'add'; }\n  else if (ecommerce.checkout) { eventName = 'InitiateCheckout'; action = 'checkout'; }\n  else if (ecommerce.purchase) { eventName = 'Purchase'; action = 'purchase'; }\n  else return fail('Facebook Pixel: Most recently pushed \"ecommerce\" object must be one of types \"detail\", \"add\", \"checkout\" or \"purchase\".');\n  \n  if (!ecommerce[action].products || getType(ecommerce[action].products) !== 'array') return fail('Facebook pixel: Most recently pushed \"ecommerce\" object did not have a valid \"products\" array.');\n  eecObjectProps = {\n    content_type: 'product',\n    contents: ecommerce[action].products.map(parseEecObj),\n    value: ecommerce[action].products.reduce((acc, cur) => {\n      const curVal = math.round(makeNumber(cur.price || 0) * (cur.quantity || 1) * 100) / 100;\n      return acc + curVal;\n    }, 0.0),\n    currency: ecommerce.currencyCode || 'USD'\n  };\n  if (['InitiateCheckout', 'Purchase'].indexOf(eventName) > -1) eecObjectProps.num_items = ecommerce[action].products.reduce((acc,cur) => {\n    return acc + makeNumber(cur.quantity || 1);\n  }, 0);\n}\n\n// Build the fbq() command arguments\nconst cidParams = data.advancedMatchingList && data.advancedMatchingList.length ? makeTableMap(data.advancedMatchingList, 'name', 'value') : {};\nconst objectProps = data.objectPropertyList && data.objectPropertyList.length ? makeTableMap(data.objectPropertyList, 'name', 'value') : {};\nconst objectPropsFromVar = getType(data.objectPropertiesFromVariable) === 'object' ? data.objectPropertiesFromVariable : {};\nconst mergedObjectProps = mergeObj(objectPropsFromVar, objectProps);\nconst finalObjectProps = mergeObj(eecObjectProps || {}, mergedObjectProps);\neventName = eventName || (data.eventName === 'custom' ? data.customEventName : (data.eventName === 'variable' ? data.variableEventName : data.standardEventName));\n\nconst command = standardEventNames.indexOf(eventName) === -1 ? 'trackSingleCustom' : 'trackSingle';\nconst consent = data.consent === false ? 'revoke' : 'grant';\n\n// Utility function to use either fbq.queue[]\n// (if the FB SDK hasn't loaded yet), or fbq.callMethod()\n// if the SDK has loaded.\nconst getFbq = () => {\n  // Return the existing 'fbq' global method if available\n  let fbq = copyFromWindow('fbq');\n  if (fbq) {\n    return fbq;\n  }\n  \n  // Initialize the 'fbq' global method to either use\n  // fbq.callMethod or fbq.queue)\n  setInWindow('fbq', function() {    \n    const callMethod = copyFromWindow('fbq.callMethod.apply');\n    if (callMethod) {           \n      callInWindow('fbq.callMethod.apply', null, arguments); \n    } else {       \n      callInWindow('fbq.queue.push', arguments);\n    }\n  });\n  aliasInWindow('_fbq', 'fbq');\n  \n  // Create the fbq.queue\n  createQueue('fbq.queue');\n    \n  // Return the global 'fbq' method, created above\n  return copyFromWindow('fbq');\n};\n\n// Get reference to the global method\nconst fbq = getFbq();\n\nfbq('consent', consent);\n\n // Set Data Processing Options\nif (data.dpoLDU) {\n  fbq('dataProcessingOptions', ['LDU'], makeNumber(data.dpoCountry), makeNumber(data.dpoState));\n}\n\n// Handle multiple, comma-separated pixel IDs,\n// and initialize each ID if not done already.\npixelIds.split(',').forEach(pixelId => {\n  if (initIds.indexOf(pixelId) === -1) {\n    \n    // If the user has chosen to disable automatic configuration\n    if (data.disableAutoConfig) {\n      fbq('set', 'autoConfig', false, pixelId);\n    }\n    \n    // If the user has chosen to disable pushState and replaceState tracking\n    if (data.disablePushState) {\n      setInWindow('fbq.disablePushState', true);\n    }\n   \t\n    \n    // Initialize pixel and store in global array\n    fbq('init', pixelId, cidParams);\n\n    // Monitoring agent string for Tag Setup\n    fbq('set','agent','tmSimo-GTM-WebTemplate', pixelId);\n\n    initIds.push(pixelId);\n    setInWindow('_fbq_gtm_ids', initIds, true);\n    \n  }\n\n  // Call the fbq() method with the parameters defined earlier\n  if (data.eventId) {\n    fbq(command, pixelId, eventName, finalObjectProps, {eventID: data.eventId});\n  } else {\n    fbq(command, pixelId, eventName, finalObjectProps);\n  }\n});\n\ninjectScript('https://connect.facebook.net/en_US/fbevents.js', data.gtmOnSuccess, data.gtmOnFailure, 'fbPixel');\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq_gtm\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"_fbq_gtm_ids\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.callMethod.apply\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue.push\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"fbq.disablePushState\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"inject_script\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://connect.facebook.net/en_US/fbevents.js\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"read_data_layer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keyPatterns\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"ecommerce\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Library is injected\n  code: |-\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('injectScript').wasCalledWith(scriptUrl, success, failure, 'fbPixel');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: fbq does not exist - method created\n  code: |-\n    let fbq;\n\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return fbq;\n    });\n\n    mock('createQueue', key => {});\n\n    mock('setInWindow', (key, val) => {\n      if (key === 'fbq') fbq = val;\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('aliasInWindow').wasCalledWith('_fbq', 'fbq');\n    assertApi('setInWindow').wasCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: fbq exists - method copied\n  code: |-\n    mock('setInWindow', key => {\n      if (key === 'fbq') fail('setInWindow called with fbq even though variable exists');\n    });\n\n    mock('createQueue', key => {});\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: makeTableMap called\n  code: |-\n    mockData.advancedMatching = true;\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('makeTableMap').wasCalledWith(mockData.advancedMatchingList, 'name', 'value');\n    assertApi('makeTableMap').wasCalledWith(mockData.objectPropertyList, 'name', 'value');\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Consent set\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: DPO LDU set\n  code: |-\n    mockData.dpoLDU = true;\n    mockData.dpoCountry = '0';\n    mockData.dpoState = '0';\n\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n        if (arguments[0] === 'dataProcessingOptions') {\n          assertThat(arguments[1], 'LDU array value not set').isEqualTo(['LDU']);\n          assertThat(arguments[2], 'LDU country not set').isEqualTo(0);\n          assertThat(arguments[3], 'LDU state not set').isEqualTo(0);\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: DPO LDU not set\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'consent') {\n          assertThat(arguments[1], 'Consent set incorrectly').isEqualTo('grant');\n        }\n        if (arguments[0] === 'dataProcessingOptions') {\n          fail('dataProcessingOptions called even though DPO was not set');\n        }\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Pixel IDs set - do not initialize\n  code: |-\n    mock('copyFromWindow', key => {\n      if (key === '_fbq_gtm_ids') return ['12345', '23456'];\n      if (key === 'fbq') return function() {\n        if (arguments[0] === 'init') fail('init called even though pixel IDs already initialized');\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Pixel IDs not set - run init process\n  code: \"let index = 0;\\nlet count = 0;\\nlet _fbq_gtm_ids;\\n\\nmockData.advancedMatching\\\n    \\ = true;\\nmockData.disableAutoConfig = true;\\nmockData.disablePushState = true;\\n\\\n    \\nmock('setInWindow', (key, val) => {\\n  if (key === 'fbq.disablePushState') count\\\n    \\ += 1;\\n  if (key === '_fbq_gtm_ids') _fbq_gtm_ids = val;\\n});\\n\\nconst initObj\\\n    \\ = {\\n  ct: 'Helsinki',\\n  cn: 'Finland',\\n  external_id: 'UserId'\\n};\\n\\nmock('copyFromWindow',\\\n    \\ key => {\\n  if (key === 'fbq') return function() {\\n    if (arguments[0] ===\\\n    \\ 'set' && arguments[1] === 'autoConfig' && arguments[2] === false) {\\n      assertThat(arguments[3],\\\n    \\ 'autoConfig called with incorrect pixelId').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\    }\\n    if (arguments[0] === 'set' && arguments[1] === 'agent') {\\n      assertThat(arguments[2],\\\n    \\ 'agent set with invalid value').isEqualTo('tmSimo-GTM-WebTemplate');\\n     \\\n    \\ assertThat(arguments[3], 'agent set with invalid pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      index += 1;\\n    }\\n    if (arguments[0] === 'init') {\\n      assertThat(arguments[1],\\\n    \\ 'init called with incorrect pixelId').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'init called with incorrect initObj').isEqualTo(initObj);\\n\\\n    \\    } \\n  };\\n});\\n\\n// Call runCode to run the template's code.\\nrunCode(mockData);\\n\\\n    \\nassertThat(_fbq_gtm_ids, '_fbq_gtm_ids has incorrect contents').isEqualTo(mockData.pixelId.split(','));\\n\\\n    assertThat(index, 'init called incorrect number of times: ' + index).isEqualTo(2);\\n\\\n    assertThat(count, 'fbq.disablePushState called incorrect number of times: ' +\\\n    \\ count).isEqualTo(2);\\n\\n// Verify that the tag finished successfully.\\nassertApi('gtmOnSuccess').wasCalled();\"\n- name: Send standard event\n  code: \"const eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index\\\n    \\ = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.standardEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send custom event\n  code: \"mockData.eventName = 'custom';\\n\\nconst eventParams = {\\n  prop1: 'val1',\\n\\\n    \\  prop2: 'val2'\\n};\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if\\\n    \\ (key === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingleCustom')\\\n    \\ {\\n      assertThat(arguments[1], 'trackSingleCustom called with incorrect pixel\\\n    \\ ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n      assertThat(arguments[2],\\\n    \\ 'trackSingleCustom called with incorrect event name').isEqualTo(mockData.customEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingleCustom called with incorrect event\\\n    \\ parameters').isEqualTo(eventParams);\\n      index += 1;\\n    }\\n  };\\n});\\n\\\n    \\     \\n// Call runCode to run the template's code.\\nrunCode(mockData);\\n\\n//\\\n    \\ Verify that the tag finished successfully.\\nassertThat(index, 'trackSingleCustom\\\n    \\ called incorrect number of times').isEqualTo(2);\\nassertApi('gtmOnSuccess').wasCalled();\"\n- name: Send variable event with standard name\n  code: \"mockData.eventName = 'variable';\\nmockData.variableEventName = 'PageView';\\n\\\n    \\nconst eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index =\\\n    \\ 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.variableEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send variable event with custom name\n  code: \"mockData.eventName = 'variable';\\nmockData.variableEventName = 'custom';\\n\\\n    \\nconst eventParams = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n};\\n\\nlet index =\\\n    \\ 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingleCustom') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingleCustom called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingleCustom called with incorrect event\\\n    \\ name').isEqualTo(mockData.variableEventName);\\n      assertThat(arguments[3],\\\n    \\ 'trackSingleCustom called with incorrect event parameters').isEqualTo(eventParams);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingleCustom called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send event parameters from a variable\n  code: \"mockData.objectPropertiesFromVariable = {\\n  prop1: 'val1',\\n  prop2: 'val2'\\n\\\n    };\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo(mockData.standardEventName);\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockData.objectPropertiesFromVariable);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce integration fails with invalid object\n  code: |-\n    mockData.enhancedEcommerce = true;\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('logToConsole').wasCalledWith('Facebook Pixel: No valid \"ecommerce\" object found in dataLayer');\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Enhanced Ecommerce integration fails with invalid action\n  code: |-\n    mockData.enhancedEcommerce = true;\n\n    mock('copyFromDataLayer', key => {\n      if (key === 'ecommerce') return {\n        invalid: true\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockData);\n\n    // Verify that the tag finished successfully.\n    assertApi('logToConsole').wasCalledWith('Facebook Pixel: Most recently pushed \"ecommerce\" object must be one of types \"detail\", \"add\", \"checkout\" or \"purchase\".');\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Enhanced Ecommerce ViewContent works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertyList = {};\\n\\n\\\n    mock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode:\\\n    \\ 'EUR',\\n    detail: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\\n    \\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('ViewContent');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce AddToCart works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertyList = {};\\n\\n\\\n    mock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode:\\\n    \\ 'EUR',\\n    add: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\\n    \\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return\\\n    \\ function() {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('AddToCart');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce InitiateCheckout works\n  code: \"mockData.enhancedEcommerce = true;\\nmockEec.fb.num_items = 3;\\nmockData.objectPropertyList\\\n    \\ = {};\\n\\nmock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return\\\n    \\ {\\n    currencyCode: 'EUR',\\n    checkout: {\\n      products: mockEec.gtm.products\\n\\\n    \\    }\\n  };\\n});\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('InitiateCheckout');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Enhanced Ecommerce Purchase works\n  code: \"mockData.enhancedEcommerce = true;\\nmockEec.fb.num_items = 3;\\nmockData.objectPropertyList\\\n    \\ = {};\\n\\nmock('copyFromDataLayer', key => {\\n  if (key === 'ecommerce') return\\\n    \\ {\\n    currencyCode: 'EUR',\\n    purchase: {\\n      products: mockEec.gtm.products\\n\\\n    \\    }\\n  };\\n});\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('Purchase');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Object merge with variable and list works\n  code: \"mockData.objectPropertiesFromVariable = {\\n  prop1: 'var1',\\n  prop2: 'var2',\\n\\\n    \\  prop3: 'var3'\\n};\\n\\nconst expected = {\\n  prop1: 'val1',\\n  prop2: 'val2',\\n\\\n    \\  prop3: 'var3'\\n};\\n\\nlet index = 0;\\nmock('copyFromWindow', key => {\\n  if\\\n    \\ (key === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle')\\\n    \\ {\\n      assertThat(arguments[1], 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('PageView');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(expected);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Object merge with variable, list and eec works\n  code: \"mockData.enhancedEcommerce = true;\\nmockData.objectPropertiesFromVariable\\\n    \\ = {\\n  content_type: 'product_group'\\n};\\nmockData.objectPropertyList = [{\\n\\\n    \\  name: 'currency',\\n  value: 'USD'\\n}];\\nmockEec.fb.num_items = 3;\\nmockEec.fb.content_type\\\n    \\ = 'product_group';\\nmockEec.fb.currency = 'USD';\\n\\nmock('copyFromDataLayer',\\\n    \\ key => {\\n  if (key === 'ecommerce') return {\\n    currencyCode: 'EUR',\\n  \\\n    \\  purchase: {\\n      products: mockEec.gtm.products\\n    }\\n  };\\n});\\n\\nlet\\\n    \\ index = 0;\\nmock('copyFromWindow', key => {\\n  if (key === 'fbq') return function()\\\n    \\ {\\n    if (arguments[0] === 'trackSingle') {\\n      assertThat(arguments[1],\\\n    \\ 'trackSingle called with incorrect pixel ID').isEqualTo(mockData.pixelId.split(',')[index]);\\n\\\n    \\      assertThat(arguments[2], 'trackSingle called with incorrect event name').isEqualTo('Purchase');\\n\\\n    \\      assertThat(arguments[3], 'trackSingle called with incorrect event parameters').isEqualTo(mockEec.fb);\\n\\\n    \\      index += 1;\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertThat(index, 'trackSingle called incorrect number of times').isEqualTo(2);\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\n- name: Send event ID\n  code: \"mockData.eventId = 'eventId';\\n\\nmock('copyFromWindow', key => {\\n  if (key\\\n    \\ === 'fbq') return function() {\\n    if (arguments[0] === 'trackSingle') {\\n\\\n    \\      assertThat(arguments[4], 'eventID not included in hit').isEqualTo({eventID:\\\n    \\ mockData.eventId});\\n    }\\n  };\\n});\\n     \\n// Call runCode to run the template's\\\n    \\ code.\\nrunCode(mockData);\\n\\n// Verify that the tag finished successfully.\\n\\\n    assertApi('gtmOnSuccess').wasCalled();\"\nsetup: \"const mockData = {\\n  pixelId: '12345,23456',\\n  eventName: 'standard',\\n\\\n  \\  standardEventName: 'PageView',\\n  customEventName: 'custom',\\n  variableEventName:\\\n  \\ 'standard',\\n  consent: true,\\n  advancedMatching: false,\\n  advancedMatchingList:\\\n  \\ [{name: 'ct', value: 'Helsinki'},{name: 'cn', value: 'Finland'},{name: 'external_id',\\\n  \\ value: 'UserId'}],\\n  objectPropertiesFromVariable: false,\\n  objectPropertyList:\\\n  \\ [{name: 'prop1', value: 'val1'},{name: 'prop2', value: 'val2'}],\\n  disableAutoConfig:\\\n  \\ false,\\n  disablePushState: false,\\n  enhancedEcommerce: false,\\n  eventId: ''\\n\\\n  };\\n\\nconst mockEec = {\\n  gtm: {  \\n    products: [{\\n      id: 'i1',\\n      name:\\\n  \\ 'n1',\\n      category: 'c1',\\n      price: '1.00',\\n      quantity: 1\\n    },{\\n\\\n  \\      id: 'i2',\\n      name: 'n2',\\n      category: 'c2',\\n      price: '2.00',\\n\\\n  \\      quantity: 2\\n    }]\\n  },\\n  fb: {\\n    content_type: 'product',\\n    contents:\\\n  \\ [{\\n      id: 'i1',\\n      quantity: 1\\n    },{\\n      id: 'i2',\\n      quantity:\\\n  \\ 2\\n    }],\\n    currency: 'EUR',\\n    value: 5.00\\n  }\\n};\\n\\nconst scriptUrl\\\n  \\ = 'https://connect.facebook.net/en_US/fbevents.js';\\n\\n// Create injectScript\\\n  \\ mock\\nlet success, failure;\\nmock('injectScript', (url, onsuccess, onfailure)\\\n  \\ => {\\n  success = onsuccess;\\n  failure = onfailure;\\n  onsuccess();\\n});\\n\\n\\\n  mock('copyFromWindow', key => {\\n  if (key === 'fbq') return () => {};\\n});\"\n\n\n___NOTES___\n\nCreated on 18/05/2019, 21:57:16\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "facebookincubator",
                    "repository": "GoogleTagManager-WebTemplate-For-FacebookPixel",
                    "version": "11c004614f6b8f7cc999caabef521086116ce302",
                    "signature": "8c2efa8ab101ccf9ed59f13f190dbdf71db9f26cead93f226cc7759c7efeaf70"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "templateId": "133",
                "name": "Twitter Base Pixel",
                "fingerprint": "1690423940263",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_temp_public_id\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"Twitter Base Pixel\",\n  \"categories\": [\n    \"ADVERTISING\",\n    \"ANALYTICS\",\n    \"ATTRIBUTION\",\n    \"CONVERSIONS\",\n    \"MARKETING\"\n  ],\n  \"brand\": {\n    \"id\": \"github.com_twitter\",\n    \"displayName\": \"twitter\",\n    \"thumbnail\": \"data:image/png;base64,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\"\n  },\n  \"description\": \"A Twitter Website Base Code is required for tracking any conversion event. This tag must be triggered on all page views.\",\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"pixelIdGroup\",\n    \"displayName\": \"Pixel ID\",\n    \"groupStyle\": \"NO_ZIPPY\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"pixel_id\",\n        \"displayName\": \"\",\n        \"simpleValueType\": true,\n        \"valueValidators\": [\n          {\n            \"type\": \"REGEX\",\n            \"args\": [\n              \"[a-zA-Z0-9]{5}\"\n            ]\n          }\n        ],\n        \"alwaysInSummary\": true,\n        \"notSetText\": \"Pixel ID is not set yet.\"\n      }\n    ],\n    \"help\": \"(Required) Pixel ID is a unique identifier of each Twitter Pixel - Base Code snippet.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"userParams\",\n    \"displayName\": \"User Parameters\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"email_address\",\n        \"displayName\": \"Email Address\",\n        \"simpleValueType\": true,\n        \"help\": \"(Optional) User\\u0027s email address. You can pass it in plaintext, and Twitter Pixel will hash the value with SHA-256 algorithm before sending it to Twitter.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"phone_number\",\n        \"displayName\": \"Phone Number\",\n        \"simpleValueType\": true,\n        \"help\": \"(Optional) User\\u0027s phone number. Pass in as plaintext in the format: country code plus continuous number, such as +11234567890. The Twitter Pixel will hash the value with SHA-256 algorithm before sending it to Twitter.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"external_id\",\n        \"displayName\": \"External Id\",\n        \"simpleValueType\": true,\n        \"help\": \"(Optional) A unique id from the advertiser, such as user id or external cookie id.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"twclid\",\n        \"displayName\": \"Twitter Click Id\",\n        \"simpleValueType\": true,\n        \"help\": \"(Optional) The Twitter Click Id passed in as the click-through URL parameter twclid, or stored as as the _twclid browser cookie in your domain.\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"configs\",\n    \"displayName\": \"Configurations\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"SELECT\",\n        \"name\": \"page_location_op\",\n        \"displayName\": \"Page Location\",\n        \"macrosInSelect\": false,\n        \"selectItems\": [\n          {\n            \"value\": 1,\n            \"displayValue\": \"Hide\"\n          },\n          {\n            \"value\": 2,\n            \"displayValue\": \"Overwrite\"\n          }\n        ],\n        \"simpleValueType\": true,\n        \"notSetText\": \"Default URL\",\n        \"help\": \"(Optional) You can hide or overwrite the page location if you don\\u0027t want to share it with Twitter.\"\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"page_location\",\n        \"displayName\": \"Overwrite Page Location With\",\n        \"simpleValueType\": true,\n        \"help\": \"(Optional) Provided a URL here to overwrite the webpage URL.\",\n        \"enablingConditions\": [\n          {\n            \"paramName\": \"page_location_op\",\n            \"paramValue\": 2,\n            \"type\": \"EQUALS\"\n          }\n        ],\n        \"canBeEmptyString\": false,\n        \"defaultValue\": \"\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"additionalParamsGroup\",\n    \"displayName\": \"Additional Parameters\",\n    \"groupStyle\": \"ZIPPY_CLOSED\",\n    \"subParams\": [\n      {\n        \"type\": \"SIMPLE_TABLE\",\n        \"name\": \"additionalParams\",\n        \"displayName\": \"\",\n        \"simpleTableColumns\": [\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Name\",\n            \"name\": \"name\",\n            \"type\": \"TEXT\"\n          },\n          {\n            \"defaultValue\": \"\",\n            \"displayName\": \"Value\",\n            \"name\": \"value\",\n            \"type\": \"TEXT\"\n          }\n        ]\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\n/******************************************************\n * Imports\n ******************************************************/\n\nconst callInWindow = require('callInWindow');\nconst copyFromWindow = require('copyFromWindow');\nconst injectScript = require('injectScript');\nconst JSON = require('JSON');\nconst log = require('logToConsole');\nconst Object = require('Object');\nconst makeTableMap = require('makeTableMap');\nconst setInWindow = require('setInWindow');\n\n/******************************************************\n * Main\n ******************************************************/\nlog(\"data: \" + JSON.stringify(data));\n\n/**\n * Create a stub API object which queues all calls. When uwt.js loads later\n * it will process this queue and replace the stub with the actual API.\n *\n * \"createArgumentsQueue\" is not the prefect substitute of our code because:\n * - our uwt.js only overwrites twq.exe but not twq itself\n * - change the existing pattern is impossible.\n */\n\nconst twq = function () {\n  if (copyFromWindow('twq.exe')) {\n    callInWindow('twq.exe.apply', null, arguments);\n  } else {\n    callInWindow('twq.queue.push', arguments);\n  }\n};\n\ntwq.integration = 'gtm';\ntwq.queue = [];\n// Function signiture: setInWindow(key, value, overrideExisting)\nsetInWindow('twq', twq, false);\n\nconst params = {};\ncopyParams(data, params, [\n  \"email_address\",\n  \"phone_number\",\n  \"external_id\",\n  \"twclid\",\n]);\n\nsetPageLocation(data, params);\ncopyAdditionalParams(data, params);\ncallInWindow('twq', 'config', data.pixel_id, params);\n\n// Inject a script tag to load uwt.js.\nconst url = \"https://static.ads-twitter.com/uwt.js\";\ninjectScript(url, data.gtmOnSuccess, data.gtmOnFailure, url);\n\nreturn twq;\n/******************************************************\n * Helper Methods\n ******************************************************/\n\n/**\n * Copy a selective list of data properties into params\n */\nfunction copyParams (data, params, keys) {\n  keys.forEach(function(key) {\n    if (data[key]) {\n      params[key] = data[key];\n    }\n  });\n}\n\n/**\n * Populate hide_page_location or page_location based on the value of\n * data.page_location_op and data.page_location\n *\n * The value ofdata.page_location_op could be:\n * 0: Do nothing.\n * 1: Hide Page Location. So we set hide_page_location to true.\n * 2: Overwrite Page Location. So we set page_location to the given value.\n */\nfunction setPageLocation (data, params) {\n  switch (data.page_location_op) {\n    case 1:\n      params.hide_page_location = true;\n      break;\n    case 2:\n      params.page_location = data.page_location;\n      break;\n    default:\n  }\n}\n\n/**\n * Copy data.additionalParams into params\n */\nfunction copyAdditionalParams (data, params) {\n  if (!data.additionalParams) {\n    return;\n  }\n  \n  const additionalParams = makeTableMap(data.additionalParams, 'name', 'value');\n  Object.keys(additionalParams).forEach(function(key) {\n    params[key] = additionalParams[key];\n  }); \n}\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"twq\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"twq.queue\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"twq.integration\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"twq.exe\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"twq.queue.push\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"twq.exe.apply\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"inject_script\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urls\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 1,\n                \"string\": \"https://static.ads-twitter.com/uwt.js\"\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios: []\nsetup: |-\n  const mockData = {\n    pixelId: 'abcde'\n  };\n\n\n___NOTES___\n\nCreated on 7/8/2022, 9:47:55 PM\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "twitter",
                    "repository": "google-tag-manager-base-tag",
                    "version": "6685cbdbefbaa512be22c4e55b0a3dfd4703ac9b",
                    "signature": "b21f99380b3fcf9cafaa871d2fd054ca406de8e0443b2dd1422c09ff5537511d"
                }
            },
            {
                "accountId": "6139183063",
                "containerId": "137025910",
                "templateId": "162",
                "name": "Persist Campaign Data",
                "fingerprint": "1690423940310",
                "templateData": "___TERMS_OF_SERVICE___\n\nBy creating or modifying this file you agree to Google Tag Manager's Community\nTemplate Gallery Developer Terms of Service available at\nhttps://developers.google.com/tag-manager/gallery-tos (or such other URL as\nGoogle may provide), as modified from time to time.\n\n\n___INFO___\n\n{\n  \"type\": \"TAG\",\n  \"id\": \"cvt_temp_public_id\",\n  \"version\": 1,\n  \"securityGroups\": [],\n  \"displayName\": \"Persist Campaign Data\",\n  \"categories\": [\n    \"ANALYTICS\",\n    \"UTILITY\"\n  ],\n  \"brand\": {\n    \"id\": \"github.com_gtm-templates-simo-ahava\",\n    \"displayName\": \"gtm-templates-simo-ahava\",\n    \"thumbnail\": \"data:image/png;base64,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\\u003d\\u003d\"\n  },\n  \"description\": \"This template preserves the landing page URL and referrer string in a browser cookie, and pushes the original location into \\u003ccode\\u003edataLayer\\u003c/code\\u003e.\",\n  \"containerContexts\": [\n    \"WEB\"\n  ]\n}\n\n\n___TEMPLATE_PARAMETERS___\n\n[\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"storeInCookieOption\",\n    \"checkboxText\": \"Store campaign data in a browser cookie\",\n    \"simpleValueType\": true,\n    \"help\": \"Select this option to save the page URL in a browser cookie \\u003cstrong\\u003eif\\u003c/strong\\u003e it has campaign defining parameters (utm_*, gclid). The referrer string is also saved in a cookie \\u003cstrong\\u003eif\\u003c/strong\\u003e its hostname differs from the current one.\"\n  },\n  {\n    \"type\": \"CHECKBOX\",\n    \"name\": \"originalLocationOption\",\n    \"checkboxText\": \"Push original location in dataLayer\",\n    \"simpleValueType\": true,\n    \"help\": \"Select this option to push the current URL into \\u003ccode\\u003edataLayer\\u003c/code\\u003e. This is useful on single-page apps with \\u003ca href\\u003d\\\"https://www.simoahava.com/gtm-tips/fix-rogue-referral-problem-single-page-sites/\\\"\\u003erogue referral\\u003c/a\\u003e issues. To be effective, this tag should only fire on the initial page load and not on subsequent SPA page events.\"\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"storeInCookie\",\n    \"displayName\": \"Store campaign data in a cookie\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"triggerParameters\",\n        \"displayName\": \"URL parameters that trigger the storage\",\n        \"simpleValueType\": true,\n        \"help\": \"Comma-separated list of parameters that trigger storage. If the URL has any one of these, then the browser cookie will be updated with the current URL.\",\n        \"defaultValue\": \"utm_source,utm_medium,utm_campaign,utm_term,utm_content,utm_id,gclid\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"urlCookieName\",\n        \"displayName\": \"Campaign URL cookie name\",\n        \"simpleValueType\": true,\n        \"help\": \"Cookie name where to save the URL with the campaign parameters. The cookie will be a \\u003cstrong\\u003esession cookie\\u003c/strong\\u003e written on the parent domain and root path. \\u003cstrong\\u003eIf you change the cookie name, remember to update the template permissions!\\u003c/strong\\u003e\",\n        \"defaultValue\": \"__gtm_campaign_url\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"referrerCookieName\",\n        \"displayName\": \"Referrer cookie name\",\n        \"simpleValueType\": true,\n        \"help\": \"Cookie name where to save the referrer string when the referrer hostname differs from the current hostname. The cookie will be a \\u003cstrong\\u003esession cookie\\u003c/strong\\u003e written on the parent domain and root path. \\u003cstrong\\u003eIf you change the cookie name, remember to update the template permissions!\\u003c/strong\\u003e\",\n        \"defaultValue\": \"__gtm_referrer\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"storeInCookieOption\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  },\n  {\n    \"type\": \"GROUP\",\n    \"name\": \"pushToDataLayer\",\n    \"displayName\": \"Data Layer options for original location\",\n    \"groupStyle\": \"ZIPPY_OPEN\",\n    \"subParams\": [\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dataLayerName\",\n        \"displayName\": \"Name of the dataLayer array\",\n        \"simpleValueType\": true,\n        \"defaultValue\": \"dataLayer\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      },\n      {\n        \"type\": \"TEXT\",\n        \"name\": \"dataLayerKey\",\n        \"displayName\": \"Key name in dataLayer for the original location\",\n        \"simpleValueType\": true,\n        \"defaultValue\": \"originalLocation\",\n        \"valueValidators\": [\n          {\n            \"type\": \"NON_EMPTY\"\n          }\n        ]\n      }\n    ],\n    \"enablingConditions\": [\n      {\n        \"paramName\": \"originalLocationOption\",\n        \"paramValue\": true,\n        \"type\": \"EQUALS\"\n      }\n    ]\n  }\n]\n\n\n___SANDBOXED_JS_FOR_WEB_TEMPLATE___\n\nconst getUrl = require('getUrl');\nconst getReferrerUrl = require('getReferrerUrl');\nconst createQueue = require('createQueue');\nconst setCookie = require('setCookie');\nconst queryPermission = require('queryPermission');\nconst log = require('logToConsole');\n\nlet fail = false;\n\nif (data.storeInCookieOption) {\n  // Check if URL has any of the params listed\n  const paramsToFind = data.triggerParameters.split(',');\n  const queryString = getUrl('query');\n  const queryParams = queryString.length ? queryString.split('&') : [];\n  if (queryParams.filter(pair => paramsToFind.indexOf(pair.split('=')[0]) > -1).length) {\n    if (queryPermission('set_cookies', data.urlCookieName)) {\n      setCookie(data.urlCookieName, getUrl(), {\n        domain: 'auto',\n        path: '/'\n      });\n    } else {\n      log('Invalid permissions for writing ' + data.urlCookieName + ' cookie!');\n      fail = true;\n    }\n  }\n  \n  // Check if referrer host does not contain current hostname\n  const referrerHost = getReferrerUrl('host');\n  if (referrerHost.indexOf(getUrl('host')) === -1 && referrerHost !== '') {\n    if (queryPermission('set_cookies', data.referrerCookieName)) {\n      setCookie(data.referrerCookieName, getReferrerUrl(), {\n        domain: 'auto',\n        path: '/'\n      });\n    } else {\n      log('Invalid permissions for writing ' + data.referrerCookieName + ' cookie!');\n      fail = true;\n    }\n  }\n}\n\nif (data.originalLocationOption) {\n  // Push the current URL into dataLayer with the given key\n  if (queryPermission('access_globals', 'readwrite', data.dataLayerName)) {\n    const dataLayerPush = createQueue(data.dataLayerName);\n    const obj = {event: 'originalLocation'};\n    obj[data.dataLayerKey] = getUrl();\n    dataLayerPush(obj);\n  } else {\n    log('Invalid permissions for creating ' + data.dataLayerName + ' queue!');\n    fail = true;\n  }\n}\n\nif (fail) { data.gtmOnFailure(); } else { data.gtmOnSuccess(); }\n\n\n___WEB_PERMISSIONS___\n\n[\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"access_globals\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"keys\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"key\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"read\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"write\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"execute\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"dataLayer\"\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": true\n                  },\n                  {\n                    \"type\": 8,\n                    \"boolean\": false\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_referrer\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"set_cookies\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"allowedCookies\",\n          \"value\": {\n            \"type\": 2,\n            \"listItem\": [\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"__gtm_campaign_url\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              },\n              {\n                \"type\": 3,\n                \"mapKey\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"name\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"domain\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"path\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"secure\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"session\"\n                  }\n                ],\n                \"mapValue\": [\n                  {\n                    \"type\": 1,\n                    \"string\": \"__gtm_referrer\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"*\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  },\n                  {\n                    \"type\": 1,\n                    \"string\": \"any\"\n                  }\n                ]\n              }\n            ]\n          }\n        }\n      ]\n    },\n    \"clientAnnotations\": {\n      \"isEditedByUser\": true\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"get_url\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"urlParts\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        },\n        {\n          \"key\": \"queriesAllowed\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"any\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  },\n  {\n    \"instance\": {\n      \"key\": {\n        \"publicId\": \"logging\",\n        \"versionId\": \"1\"\n      },\n      \"param\": [\n        {\n          \"key\": \"environments\",\n          \"value\": {\n            \"type\": 1,\n            \"string\": \"debug\"\n          }\n        }\n      ]\n    },\n    \"isRequired\": true\n  }\n]\n\n\n___TESTS___\n\nscenarios:\n- name: Do not write cookies if no trigger parameters in URL and if referrer host\n    contains current host\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return '?invalidparam=true';\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? workingUrl.host : mockReferrer.full;\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasNotCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Write URL cookie if trigger parameters in URL\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return workingUrl.params;\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? workingUrl.host : mockReferrer.full;\n    });\n\n    mock('setCookie', (name, value, options) => {\n      if (name === mockStoreData.referrerCookieName) fail('Referrer cookie was set');\n      if (name !== mockStoreData.urlCookieName) fail('Cookie name not set');\n      if (value !== workingUrl.full) fail('Cookie set with wrong URL');\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Fail if invalid permissions to write URL cookie\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return workingUrl.params;\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? workingUrl.host : mockReferrer.full;\n    });\n\n    mock('queryPermission', (permission, cookieName) => {\n      if (cookieName === mockStoreData.urlCookieName) return false;\n      if (cookieName === mockStoreData.referrerCookieName) fail('Query permission called for referrer cookie');\n    });\n\n    mock('logToConsole', false);\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Write referrer cookie if referrer host does not contain current host\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return '?invalidparam=true';\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? mockReferrer.host : mockReferrer.full;\n    });\n\n    mock('setCookie', (name, value, options) => {\n      if (name !== mockStoreData.referrerCookieName) fail('Cookie name not set');\n      if (name == mockStoreData.urlCookieName) fail('URL cookie set');\n      if (value !== mockReferrer.full) fail('Cookie set with wrong URL');\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Fail if invalid permissions to write referrer cookie\n  code: |-\n    mock('getUrl', component => {\n      if (component === 'query') return '?invalidparams=true';\n      if (component === 'host') return workingUrl.host;\n      return workingUrl.full;\n    });\n\n    mock('getReferrerUrl', component => {\n      return component === 'host' ? mockReferrer.host : mockReferrer.full;\n    });\n\n    mock('queryPermission', (permission, cookieName) => {\n      if (cookieName === mockStoreData.urlCookieName) fail('Query permission called for URL cookie');\n      if (cookieName === mockStoreData.referrerCookieName) return false;\n    });\n\n    mock('logToConsole', false);\n\n    // Call runCode to run the template's code.\n    runCode(mockStoreData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\n- name: Push original location to dataLayer\n  code: |-\n    mock('getUrl', workingUrl.full);\n\n    mock('createQueue', name => {\n      if (name !== mockOriginalData.dataLayerName) fail('Tried to create queue with invalid name');\n      return (obj) => {\n        if (obj.event !== 'originalLocation') fail('Tried to push invalid event name');\n        if (obj[mockOriginalData.dataLayerKey] !== workingUrl.full) fail('Tried to push invalid URL');\n      };\n    });\n\n    // Call runCode to run the template's code.\n    runCode(mockOriginalData);\n\n    assertApi('getUrl').wasCalled();\n    assertApi('getReferrerUrl').wasNotCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasNotCalled();\n    assertApi('createQueue').wasCalled();\n\n    assertApi('gtmOnFailure').wasNotCalled();\n    assertApi('gtmOnSuccess').wasCalled();\n- name: Fail if invalid permissions to write to dataLayer\n  code: |-\n    mock('queryPermission', (permission, cookieName) => {\n      if (permission === 'set_cookies') fail('Permission call for set_cookies made');\n      return false;\n    });\n\n    mock('logToConsole', false);\n\n    // Call runCode to run the template's code.\n    runCode(mockOriginalData);\n\n    assertApi('getUrl').wasNotCalled();\n    assertApi('getReferrerUrl').wasNotCalled();\n    assertApi('queryPermission').wasCalled();\n    assertApi('setCookie').wasNotCalled();\n    assertApi('logToConsole').wasCalled();\n    assertApi('createQueue').wasNotCalled();\n\n    assertApi('gtmOnFailure').wasCalled();\n    assertApi('gtmOnSuccess').wasNotCalled();\nsetup: \"const mockStoreData = {\\n  storeInCookieOption: true,\\n  triggerParameters:\\\n  \\ 'utm_source,utm_medium,utm_campaign,utm_term,utm_content,utm_id,gclid',\\n  urlCookieName:\\\n  \\ '__gtm_campaign_url',\\n  referrerCookieName: '__gtm_referrer'\\n};\\n\\nconst mockOriginalData\\\n  \\ = {\\n  originalLocationOption: true,\\n  dataLayerName: 'dataLayer',\\n  dataLayerKey:\\\n  \\ 'originalLocation'\\n};\\n  \\nconst workingUrl = {\\n  params: '?utm_source=test&utm_medium=test',\\n\\\n  \\  host: 'www.example.com',\\n  full: 'https://www.example.com/path/?utm_source=test&utm_medium=test#home'\\n\\\n  };\\n\\nconst mockReferrer = {\\n  host: 'www.otherdomain.com',\\n  full: 'https://www.otherdomain.com/path/'\\n\\\n  };\"\n\n\n___NOTES___\n\nCreated on 30/11/2019, 11:26:05\n\n\n",
                "galleryReference": {
                    "host": "github.com",
                    "owner": "gtm-templates-simo-ahava",
                    "repository": "persist-campaign-data",
                    "version": "65d7ef3fae4bde0ad4d829506bb85e5771922925",
                    "signature": "23dc5626da5910d43124815c0f6fb6907467673e697f80738b7727ce67bf3e4e"
                }
            }
        ]
    }
}